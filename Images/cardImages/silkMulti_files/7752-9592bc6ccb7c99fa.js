"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7752],{99096:function(e,t,n){n.d(t,{S:function(){return o}});var r=n(27573),a=n(8828),l=n(49289),i=n(7653),s=n(68255);let u=(0,l.j)("rounded-[18px] bg-neutral-white p-6 shadow-[0px_10px_20px_rgba(0,0,0,0.05)] transition-all duration-300 dark:bg-neutral-91 dark:shadow-none",{variants:{variant:{simple:"",selectable:"dark:hover:bg-neutral-81 hover:shadow-[0px_10px_20px_rgba(0,0,0,0.08)] cursor-pointer"}},defaultVariants:{variant:"simple"}}),o=i.forwardRef((e,t)=>{let{className:n,variant:l,asChild:i,...o}=e,c=i?a.g7:"div";return(0,r.jsx)(c,{ref:t,className:(0,s.cn)(u({variant:l,className:n})),...o})});o.displayName="GenericCard"},65833:function(e,t,n){n.d(t,{A:function(){return s}});var r=n(27573),a=n(49289),l=n(68255);let i=(0,a.j)("",{variants:{variant:{v1:"bg-neutral-31 dark:bg-neutral-71",v2:"bg-neutral-41 dark:bg-neutral-91"},roundness:{sm:"rounded",md:"rounded-md"},animation:{enable:"animate-pulse",disable:""}},defaultVariants:{variant:"v1",roundness:"md",animation:"enable"}}),s=e=>{let{className:t,variant:n,roundness:a,animation:s,...u}=e;return(0,r.jsx)("div",{className:(0,l.cn)(i({variant:n,roundness:a,animation:s}),t),...u})}},26048:function(e,t,n){n.d(t,{GenericTab:function(){return u},GenericTabContent:function(){return p},GenericTabList:function(){return o},GenericTabTrigger:function(){return c},p:function(){return d}});var r=n(27573),a=n(84132),l=n(9545),i=n(7653),s=n(68255);let u=a.fC,o=i.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(a.aV,{ref:t,className:(0,s.cn)("inline-flex w-full items-center justify-start gap-2",n),...l})});o.displayName=a.aV.displayName;let c=i.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(a.xz,{ref:t,className:(0,s.cn)("inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-61 transition-all data-[state=active]:bg-neutral-21 data-[state=active]:text-neutral-101 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 dark:text-neutral-31 dark:data-[state=active]:bg-neutral-81 dark:data-[state=active]:text-neutral-white",n),...l})});c.displayName=a.xz.displayName;let d=i.forwardRef((e,t)=>{let{className:n,children:i,isActive:u=!1,layoutId:o,activeProps:c={},...d}=e,{className:p,...m}=c;return(0,r.jsxs)(a.xz,{ref:t,className:(0,s.cn)("relative inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-61 transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 dark:text-neutral-31",n),...d,children:[u&&(0,r.jsx)(l.E.span,{layoutId:o,className:(0,s.cn)("absolute inset-0 rounded-xl bg-neutral-white text-neutral-101 shadow-[0px_3px_1px_0px_rgba(0,_0,_0,_0.04),_0px_3px_8px_0px_rgba(0,_0,_0,_0.12)] dark:bg-neutral-91 dark:text-neutral-white",p),transition:{type:"spring",bounce:.2,duration:.6},...m}),i]})});d.displayName=a.xz.displayName;let p=i.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(a.VY,{ref:t,className:n,...l})});p.displayName=a.VY.displayName},27185:function(e,t,n){n.d(t,{Spinner:function(){return l}});var r=n(27573);n(7653);var a=n(68255);let l=e=>{let{className:t=""}=e;return(0,r.jsx)("div",{className:"relative flex items-center justify-center",children:(0,r.jsx)("div",{className:(0,a.cn)("my-auto inline-block animate-spin self-center rounded-full border-2 border-solid border-current !border-r-transparent",t),role:"status"})})}},67908:function(e,t,n){n.d(t,{R:function(){return a},h:function(){return l}});var r=n(14671);let a=e=>{let{result:{url:t}}=e;window.open(t,"_self")},l=e=>{e instanceof Error?r.Am.error(e.message):"object"==typeof e&&null!==e&&"message"in e?"string"==typeof e.message&&r.Am.error(e.message):r.Am.error("Something went wrong while redirecting")}},92548:function(e,t,n){n.d(t,{Li:function(){return i},o$:function(){return a},or:function(){return l}});var r=n(23611);let a={MONTHLY:r.en.MONTHLY,QUARTERLY:r.en.QUARTERLY,YEARLY:r.en.YEARLY},l={PAGE:"page",MODAL:"modal",UPGRADE_ACCESS_SINGLE_PLAN:"upgrade-access-single-plan"},i={[r.en.WEEKLY]:null,[r.en.MONTHLY]:null,[r.en.QUARTERLY]:15,[r.en.YEARLY]:30}},77752:function(e,t,n){n.d(t,{m:function(){return W}});var r=n(27573),a=n(7653),l=n(68255),i=n(23611),s=n(15218),u=n(26048),o=n(90244),c=n(35350),d=n(58414),p=n(36962),m=n(26066),g=n(23903),x=n(24752),f=n(19364),S=n(16105),v=n(39663),E=n(71044),b=n(48692),h=n(92548),A=n(67908),_=n(1257),N=n(46793),R=n(99096),I=n(59441),T=n(31311),P=n(51823);let L=e=>{let{credits:t,interval:n,isCustom:a,isFree:l}=e,i=P.t.format(t);return a?null:(0,r.jsxs)("div",{className:"flex shrink-0 items-center gap-1 self-stretch px-4 text-sm font-medium",children:[i," ",T.cA.PLURAL,l?"/daily":"/".concat(n.split("ly")[0])]})};var U=n(7609),y=n(27185);let C=e=>{let{isFeatured:t,isLoading:n,isPendingPlanChange:a,onClick:i,btnText:s,disabled:u=!1}=e;return(0,r.jsx)(U.zx,{size:"xl",onClick:i,disabled:u,variant:t?"primary":"secondary",className:(0,l.cn)("mx-4 w-[calc(100%-32px)] shrink-0",{"pointer-events-none":a,"bg-neutral-white text-neutral-101 hover:bg-neutral-11 focus:bg-neutral-white active:bg-neutral-white  disabled:bg-neutral-81 disabled:text-neutral-white disabled:opacity-30  dark:bg-neutral-101  dark:text-neutral-white dark:hover:bg-neutral-91 dark:focus:bg-neutral-101 dark:active:bg-neutral-101 dark:disabled:bg-neutral-21 dark:disabled:text-neutral-101 dark:disabled:opacity-50":t}),children:n?(0,r.jsx)(y.Spinner,{className:"size-5"}):s})};var w=n(48443);let k=e=>{let{name:t,description:n}=e;return(0,r.jsxs)("div",{className:"flex h-20 shrink-0 flex-col items-start gap-1 self-stretch px-4",children:[(0,r.jsx)("h3",{className:"text-2xl",children:w.v[t]}),(0,r.jsx)("p",{className:"text-xs",children:n})]})};var O=n(10665),Y=n(46329);let j=e=>{let{offering:t,containerVariant:n=h.or.PAGE,isRealTimeGenerationModal:a,isFeatured:i}=e;return t?(0,r.jsxs)("div",{className:(0,l.cn)("flex flex-col gap-6 self-stretch px-4 text-xs font-medium ",{"gap-5":n===h.or.UPGRADE_ACCESS_SINGLE_PLAN,"scrollbar-v2--alt h-[calc(100vh-670px)] max-h-[250px] min-h-36 overflow-y-auto":a}),children:[(0,r.jsx)("h4",{className:"font-semibold",children:t.heading}),(0,r.jsx)("ul",{className:"flex flex-col gap-4",children:t.listings.map(e=>{let t=e.is_available;return(0,r.jsxs)("li",{className:"grid grid-cols-[18px_1fr_18px] items-start gap-1.5",children:[t?(0,r.jsx)(O.krx,{className:"size-[18px] shrink-0 stroke-[1.5]"}):(0,r.jsx)(O.Q4B,{className:"size-[18px] shrink-0 stroke-[1.5]"}),(0,r.jsx)("span",{children:e.text}),e.tooltip&&(0,r.jsx)(Y.fX,{content:e.tooltip,genericTooltipContentProps:{className:"z-[100]"},children:(0,r.jsx)("div",{children:(0,r.jsx)(O.szr,{className:(0,l.cn)("size-[18px] text-neutral-71 dark:text-neutral-31",{"text-neutral-31 dark:text-neutral-71":i})})})})]},e.text)})})]}):null};var M=n(42188);let D=e=>{let{billingInterval:t,originalPrice:n,pricingPeriod:a,currency:i,isFeatured:s=!1,isCustom:u=!1}=e,o=(0,M.$)();return(0,r.jsxs)("div",{className:"flex shrink-0 items-center gap-2 self-stretch whitespace-nowrap px-4",children:[u?(0,r.jsxs)("div",{className:"flex flex-col items-start gap-2 self-stretch pb-3",children:[(0,r.jsx)("h6",{className:"text-4xl font-medium",children:"Custom Pricing"}),(0,r.jsx)("p",{className:(0,l.cn)("text-lg text-neutral-61 dark:text-neutral-51",{"text-neutral-51 dark:text-neutral-61":s}),children:"Contact our sales team."})]}):(0,r.jsx)("span",{className:"text-4xl/[44px] font-medium",children:o({value:n,currency:i})}),!u&&(0,r.jsxs)("div",{className:(0,l.cn)("flex w-full max-w-[146px] flex-col items-start gap-1 text-xs text-neutral-61 dark:text-neutral-51",{"text-neutral-51 dark:text-neutral-61":s}),children:[(0,r.jsxs)("span",{children:["/",a]}),(0,r.jsxs)("span",{children:["Billed ",t]})]})]})},z=e=>{let{to:t,btnText:n,eventId:u,isPendingPlanChange:o=!1,subscriptionPlan:c,onClickHandler:d,onCustomPlanClick:p=()=>{},containerVariant:m=h.or.PAGE,isRealTimeGenerationModal:g,disabled:f=!1}=e,[S,v]=a.useState(!1),{isFeatured:E,isCustom:b,isFree:A}=c,T=async()=>{v(!0);try{null!==u&&(I.c.triggerEventUsingElementId(u.normalEvent),I.c.triggerEventUsingElementId(u.campaignEvent,void 0,{subscription_price:c.price})),await d(),t&&"Current Plan"!==n&&window.history.pushState(null,"",t)}catch(e){(0,x.H)(e),_.done()}v(!1)},P=(0,a.useMemo)(()=>{let e;switch(c.billingInterval){case i.en.YEARLY:e=Math.floor(c.price/12);break;case i.en.QUARTERLY:e=Math.floor(c.price/3);break;default:e=c.price}return e},[c.billingInterval,c.price]);return(0,r.jsxs)(R.S,{className:(0,l.cn)("flex w-[324px] shrink-0 flex-col items-start gap-6 self-stretch rounded-xl bg-neutral-white px-px py-6 shadow-none ring-1 ring-inset ring-neutral-31 dark:bg-neutral-91 dark:shadow-none dark:ring-neutral-71",{"relative bg-neutral-101 text-neutral-white dark:bg-neutral-white dark:text-neutral-101":E,"w-full":m===h.or.PAGE,"w-full shrink gap-5 pb-4 pt-5":m===h.or.UPGRADE_ACCESS_SINGLE_PLAN}),children:[E&&(0,r.jsx)("div",{className:"absolute -top-3 left-1/2 flex -translate-x-1/2 items-center justify-center rounded-full border border-neutral-101 bg-neutral-white px-2 py-0.5 dark:border-neutral-white dark:bg-neutral-101",children:(0,r.jsx)("span",{className:"text-[10px]/[18px] font-semibold capitalize text-neutral-101 dark:text-neutral-white",children:"Best value"})}),(0,r.jsx)(k,{name:c.name,description:c.description}),(0,r.jsx)(D,{currency:c.currency,billingInterval:c.billingInterval,originalPrice:P,pricingPeriod:(c.billingInterval===i.en.YEARLY||c.billingInterval===i.en.QUARTERLY?i.en.MONTHLY:c.billingInterval).split("ly")[0],isFeatured:E,isCustom:b}),(0,r.jsx)(L,{credits:(0,s.xs)(c),interval:c.billingInterval,isCustom:b,isFree:A}),(0,r.jsx)(N.i,{className:(0,l.cn)("shrink-0 bg-neutral-31 dark:bg-neutral-71",{"bg-neutral-71 dark:bg-neutral-31":E})}),m!==h.or.UPGRADE_ACCESS_SINGLE_PLAN?b?(0,r.jsx)(C,{onClick:p,isFeatured:E,isPendingPlanChange:o,btnText:"Contact Sales",isLoading:!1,disabled:f}):(0,r.jsx)(C,{onClick:T,disabled:f||o||S,isFeatured:E,isPendingPlanChange:o,isLoading:S,btnText:n}):null,(0,r.jsx)(j,{offering:c.offering,containerVariant:m,isRealTimeGenerationModal:g,isFeatured:E}),m===h.or.UPGRADE_ACCESS_SINGLE_PLAN&&(0,r.jsxs)("div",{className:" flex flex-col items-start gap-4 self-stretch",children:[(0,r.jsx)(N.i,{className:(0,l.cn)("bg-neutral-31 dark:bg-neutral-71",{"bg-neutral-71 dark:bg-neutral-31":E})}),(0,r.jsx)(C,{onClick:T,disabled:o||S,isFeatured:E,isPendingPlanChange:o,isLoading:S,btnText:n})]})]})},G=e=>{let{product:t,successUrl:n,cancelUrl:r}=e,{mutateAsync:l}=(0,v.mW)({product:t,successUrl:n,cancelUrl:r});return{handleCheckoutToPayment:(0,a.useCallback)(async e=>{try{var t;let n=await l({priceId:e,coupon:null!==(t=m.Z.get(g.y.COUPON_CODE))&&void 0!==t?t:""});(0,A.R)(n)}catch(e){throw(0,x.H)(e),m.Z.remove(g.y.COUPON_CODE),e}},[l])}};var B=n(45608),F=n(22172),H=n(94904),Q=n(41225);let Z=()=>{let{aggregator:e}=(0,d.O)(),t=(0,H.useUserStoreContext)()(e=>e.user),{page:n,userStatus:r,source:l,userPlan:i,userPlanPeriod:u}=(0,c.T)();return{logAddToCart:(0,a.useCallback)((a,c,d)=>{var p,g,x;let f=null!==(p=m.Z.get(F.Y.CAMPAIGN))&&void 0!==p?p:"None",S=null!==(g=m.Z.get(F.Y.TERM))&&void 0!==g?g:"None";localStorage.setItem(Q.F.ADD_TO_CART_TOOL,null!=d?d:""),localStorage.setItem(Q.F.ADD_TO_CART_STUDIO,null!=c?c:""),e.log(o.H0.add_to_cart.withProperties({plan_clicked:a.name,plan_period_clicked:a.billingInterval,user_plan:i,user_plan_period:u,page_name:n,tokens_amount:(0,s.xs)(a),amount:a.price,currency:a.currency,source:l,email:null==t?void 0:t.email,distinct_id:null==t?void 0:t.id,user_account_status:r,utm_campaign:f,utm_term:S,atc_cta_source:null!==(x=localStorage.getItem(Q.F.ADD_TO_CART_CTA))&&void 0!==x?x:"None",app_name:B.i.IMAGINE,tool_name:d,studio_name:c}))},[e,n,l,null==t?void 0:t.email,null==t?void 0:t.id,i,u,r])}},q=e=>{var t,n,a;let{data:i,selectedInterval:u,activeSubscription:o,user:c,defaultRoute:d,onCustomPlanClick:p,product:_,successUrl:N,cancelUrl:R,variant:I,className:T,isRealTimeGenerationModal:P,studioName:L,generationTool:U}=e,{isStripeFailed:y,subscribedPriceItem:C,stripeSubscription:w,isLegacyUser:k,isInvoicePastDue:O,isInvoiceIncomplete:Y,isPendingPlanChange:j}=(0,s.L1)(o),{logAddToCart:M}=Z(),D=null==w?void 0:w.newPriceId,B=(0,v.wp)(_),{handleCheckoutToPayment:F}=G({product:_,successUrl:N,cancelUrl:R}),H=(0,f.m)(e=>e.setChangeToPlan),Q=(e,t)=>async()=>{M(e,L,U);try{switch(t){case"Get Started":await F(e.stripePriceId);break;case"Current Plan":(y||O)&&await B.mutateAsync(void 0,{onSuccess:A.R,onError:A.h});break;case"Downgrade":case"Upgrade":if(y){await F(e.stripePriceId);return}j||H(e)}}catch(e){throw(0,x.H)(e),(0,A.h)("Couldn't redirect to payment page"),e}},q=(null!==(a=null==i?void 0:null===(t=i[u])||void 0===t?void 0:t.length)&&void 0!==a?a:0)===3;return(0,r.jsx)("div",{className:(0,l.cn)("scrollbar-v2 mx-auto flex w-fit max-w-full shrink-0 items-stretch gap-4 self-stretch overflow-x-auto pt-8",{"grid w-full grid-cols-1 items-stretch gap-y-6 pt-11 tablet:grid-cols-2 desktop:grid-cols-4":I===h.or.PAGE&&!q,"grid w-full grid-cols-1 gap-y-6 pt-11 tablet:grid-cols-1 laptop:grid-cols-3":I===h.or.PAGE&&q,"mx-0 mb-0":I===h.or.UPGRADE_ACCESS_SINGLE_PLAN},T),children:i&&(null===(n=i[u])||void 0===n?void 0:n.map(e=>{let t=j&&D===e.id,n=e.isFree,{to:a,eventId:l,campaignEventId:i,label:s}=(0,b.H)(e,d,C,t,k,Y),u=(y||O)&&"Current Plan"===s?"Pay Invoice":s;return(0,r.jsx)(z,{btnText:u,subscriptionPlan:e,to:y||n?void 0:a,isPendingPlanChange:j,onClickHandler:c?Q(e,s):async()=>{M(e),m.Z.set(g.y.SIGN_UP_CTA,S._P.ADD_TO_CART),E.X.getAuthManager().navigateToSignInWithStripeRedirect(e.stripePriceId,1,_)},eventId:{campaignEvent:i||"",normalEvent:l||""},onCustomPlanClick:p,containerVariant:I,isRealTimeGenerationModal:P,disabled:"Pay Invoice"!==u&&O},e.stripePriceId)}))})},V=()=>(0,r.jsx)("div",{className:"mt-[74px] text-center font-medium underline",children:"Something went wrong while fetching subscriptions. Please refresh the page."});var $=n(65833);let K=e=>{let{noOfPlans:t=4,variant:n}=e,a=3===t;return(0,r.jsxs)("div",{className:"mx-auto flex w-full flex-col items-center justify-center",children:[(0,r.jsx)($.A,{className:"h-10 w-[229px] rounded-full bg-neutral-21 transition-colors duration-500 dark:bg-neutral-81"}),(0,r.jsx)("div",{className:(0,l.cn)("scrollbar-v2 mx-auto flex w-fit max-w-full shrink-0 items-stretch gap-4 self-stretch overflow-x-auto pt-8",{"grid w-full grid-cols-1 items-stretch gap-y-6 pt-11 tablet:grid-cols-2 desktop:grid-cols-4":n===h.or.PAGE&&!a,"grid w-full grid-cols-1 gap-y-6 pt-11 tablet:grid-cols-1 laptop:grid-cols-3":n===h.or.PAGE&&a,"mx-0 mb-0":n===h.or.UPGRADE_ACCESS_SINGLE_PLAN}),children:Array.from({length:t}).map((e,t)=>(0,r.jsx)($.A,{className:(0,l.cn)("flex max-h-[662px] min-h-[662px] w-[324px] shrink-0 flex-col items-start gap-6 self-stretch rounded-xl bg-neutral-white px-px py-6 shadow-none ring-1 ring-inset ring-neutral-31 dark:bg-neutral-91 dark:shadow-none dark:ring-neutral-71",{"w-full xl:min-w-[264px] desktop:min-w-[324px]":n===h.or.PAGE,"w-full shrink gap-5 pb-4 pt-5":n===h.or.UPGRADE_ACCESS_SINGLE_PLAN})},"skeleton-card-".concat(t)))})]})},W=e=>{let{user:t,activeSubscription:n,variant:m=h.or.PAGE,trigger:g,triggerVariant:x,isError:f,isLoading:S,subscriptionPlanItems:v,defaultRoute:E,onCustomPlanClick:b,product:A,successUrl:_,cancelUrl:N,className:R,hideTabs:I=!1,defaultInterval:T,isRealTimeGenerationModal:P,numberOfPlansToDisplayInLoader:L=4,generationTool:U,studioName:y}=e,{billingInterval:C}=(0,s.L1)(n),w=(0,p.Td)()(e=>e.defaultSelectedPricingTab),k=C===i.en.WEEKLY?h.o$.YEARLY:C,O=(0,a.useMemo)(()=>{var e;return C?null!==(e=null!=T?T:k)&&void 0!==e?e:h.o$.YEARLY:w},[C,T,w,k]),[Y,j]=(0,a.useState)(O);(0,a.useEffect)(()=>{j(O)},[O]);let{aggregator:M}=(0,d.O)(),{page:D,source:z,userStatus:G,userPlan:B,userPlanPeriod:F}=(0,c.T)(),H={page_name:D,source:z,user_account_status:G,user_plan:B,user_plan_period:F},Q=(0,a.useMemo)(()=>[{label:"Monthly",value:h.o$.MONTHLY,trigger:null==g?void 0:g.monthlyTrigger,variant:x,discount:h.Li[i.en.MONTHLY]},{label:"Quarterly",value:h.o$.QUARTERLY,trigger:null==g?void 0:g.quarterlyTrigger,variant:x,discount:h.Li[i.en.QUARTERLY]},{label:"Yearly",value:h.o$.YEARLY,trigger:null==g?void 0:g.yearlyTrigger,variant:x,discount:h.Li[i.en.YEARLY]}],[null==g?void 0:g.monthlyTrigger,null==g?void 0:g.quarterlyTrigger,null==g?void 0:g.yearlyTrigger,x]);return f?(0,r.jsx)(V,{}):S?(0,r.jsx)(K,{variant:m,noOfPlans:L}):(0,r.jsxs)(u.GenericTab,{value:Y,onValueChange:e=>{j(e)},className:(0,l.cn)("mx-auto flex w-full flex-col items-center justify-center",{"items-start justify-start":m===h.or.UPGRADE_ACCESS_SINGLE_PLAN},{"mt-8":m===h.or.MODAL},m),children:[!I&&(0,r.jsx)(u.GenericTabList,{className:"h-10 w-fit gap-0 rounded-full bg-neutral-21 transition-all duration-500 dark:bg-neutral-81",children:Q.filter(e=>{var t;return v&&(null===(t=v[e.value])||void 0===t?void 0:t.length)>0}).map(e=>(0,r.jsxs)(u.p,{value:e.value,onClick:()=>{M.log(o.H0.click.withProperties({...H,trigger:e.trigger,variant:e.variant}))},layoutId:"subscription-billing-interval-".concat(m),isActive:Y===e.value,"aria-label":"monthly",className:"group flex h-10 items-center justify-center rounded-[20px] px-4 py-2.5 text-neutral-101 transition-all duration-500 data-[state=active]:text-neutral-white dark:text-neutral-white dark:data-[state=active]:text-neutral-101",activeProps:{className:"rounded-[20px] bg-neutral-101 dark:bg-neutral-white"},children:[(0,r.jsx)("span",{className:"relative flex items-center gap-2",children:e.label}),e.discount&&(0,r.jsx)("div",{className:"absolute top-0 flex -translate-y-2/3 items-center justify-center rounded-full bg-error-21 px-2 py-0.5 dark:bg-error-91",children:(0,r.jsxs)("span",{className:"text-[10px]/[18px] font-bold uppercase text-error-101 antialiased dark:text-error-11",children:[e.discount,"% off"]})})]},e.value))}),(0,r.jsx)(q,{studioName:y,generationTool:U,defaultRoute:E,data:v,selectedInterval:Y,user:t,activeSubscription:n,onCustomPlanClick:b,product:A,successUrl:_,cancelUrl:N,className:R,variant:m,isRealTimeGenerationModal:P})]})}},15837:function(e,t,n){var r,a;n.d(t,{N:function(){return r}}),(a=r||(r={})).DOWNGRADE="downgrade",a.UPGRADE="upgrade"},42188:function(e,t,n){n.d(t,{$:function(){return l}});var r=n(7653),a=n(94904);let l=()=>{let e=(0,a.useUserStoreContext)()(e=>e.locale);return(0,r.useCallback)(t=>{let{currency:n,value:r,options:a}=t;return new Intl.NumberFormat(e,{minimumFractionDigits:0,style:"currency",currency:n,maximumFractionDigits:10,...null!=a?a:{}}).format(r)},[e])}},68653:function(e,t,n){n.d(t,{Y:function(){return a}});var r=n(7653);let a=()=>{var e;let[t,n]=(0,r.useState)(null===(e=window.growi)||void 0===e?void 0:e.affiliate_code);return(0,r.useEffect)(()=>{let e=()=>{var e;n(null===(e=window.growi)||void 0===e?void 0:e.affiliate_code)};return window.addEventListener("affiliateCodeChange",e),()=>{window.removeEventListener("affiliateCodeChange",e)}},[]),t}},112:function(e,t,n){n.d(t,{YR:function(){return l},nr:function(){return a}});var r=n(23611);r.Sz.BASIC,r.Sz.STANDARD,r.Sz.PROFESSIONAL,r.Sz.UNLIMITED;let a=[r.Sz.BASIC,r.Sz.STANDARD,r.Sz.PROFESSIONAL,r.Sz.UNLIMITED],l=[r.en.MONTHLY,r.en.QUARTERLY,r.en.YEARLY]},39663:function(e,t,n){n.d(t,{jk:function(){return b},IR:function(){return N},OB:function(){return S},mW:function(){return h},wN:function(){return A},sm:function(){return v},OJ:function(){return x},sb:function(){return f},wp:function(){return _},YX:function(){return E}});var r,a,l=n(965),i=n(30629),s=n(50937),u=n(83057),o=n(94904),c=n(23611),d=n(15218),p=n(68653),m=n(7169);(r=a||(a={})).SUBSCRIPTION_PRODUCT="SubscriptionProduct",r.CALCULATE_PRORATION="CalculateProration",r.TOP_UPS="TopUps";var g=n(112);let x=e=>{let{currentDashboardSubscriptionPlans:t,dashboardName:n}=e,r=(0,o.useUserStoreContext)()(e=>e.country);return(0,l.useQuery)({queryKey:[a.SUBSCRIPTION_PRODUCT,r,n],queryFn:async()=>{let e=(await m.Z.getSubscriptions({requestOptions:{params:{country:r,product:c.pK.IMAGINE}}})).result,n=e.flatMap(e=>e.StripePrice.map(n=>{var r,a;let l=n.billingInterval,i=null===(a=t.subscription_plans)||void 0===a?void 0:null===(r=a[l])||void 0===r?void 0:r[e.name];return{id:n.id,isFeatured:e.name===c.Sz.PROFESSIONAL,billingInterval:n.billingInterval,name:e.name,stripePriceId:n.stripePriceId,price:n.price,currency:n.currency,offering:null==i?void 0:i.offerings,description:null==i?void 0:i.description,maxQuantity:(0,d.xs)(n),minQuantity:(0,d.op)(n),priceDetails:n.priceDetails,isLegacy:n.isLegacy,isCustom:e.name===c.Sz.CUSTOM}})),a=(0,s.vM)(n,"billingInterval");return{subscriptions:e,subscriptionPlanItems:(0,s.Xc)(a,e=>(0,s.MR)(e,e=>g.nr.indexOf(e.name)))}},staleTime:u.dV})},f=e=>{let t=(0,o.useUserStoreContext)()(e=>e.user),n=(0,o.useUserStoreContext)()(e=>e.country);return(0,l.useQuery)({queryKey:[a.TOP_UPS,e,n],queryFn:()=>m.Z.getTopUps({requestOptions:{params:{country:n,product:e}}}),enabled:!!t,staleTime:u.dV})},S=e=>(0,i.useMutation)({mutationFn:async t=>m.Z.changePlanTo(t,{product:e})}),v=()=>(0,i.useMutation)({mutationFn:m.Z.expireCheckoutSession.bind(m.Z)}),E=e=>(0,i.useMutation)({mutationFn:async t=>m.Z.upgradePlanImmediately(t,{product:e})}),b=e=>{let{product:t,priceId:n,enabled:r}=e,i=(0,o.useUserStoreContext)()(e=>e.country);return(0,l.useQuery)({queryKey:[a.CALCULATE_PRORATION,n,i,t],queryFn:e=>{var n;return m.Z.calculateProration(null!==(n=e.queryKey[1])&&void 0!==n?n:"",{requestOptions:{params:{country:i,product:t}}})},enabled:!!n&&r})},h=e=>{let{product:t,successUrl:n,cancelUrl:r}=e,a=(0,o.useUserStoreContext)()(e=>e.country),l=(0,p.Y)();return(0,i.useMutation)({mutationFn:e=>{let{priceId:i,coupon:s}=e;return m.Z.checkoutToPayment({priceId:i,country:a,coupon:null!=s?s:"",product:t,successUrl:n,cancelUrl:r,growiAffiliateCode:l})}})},A=e=>{let t=(0,o.useUserStoreContext)()(e=>e.country);return(0,i.useMutation)({mutationFn:n=>m.Z.checkoutToTopUp({priceId:n,country:t,product:e})})},_=e=>(0,i.useMutation)({mutationFn:async()=>m.Z.goToStripeBilling(e)}),N=e=>(0,i.useMutation)({mutationFn:async()=>m.Z.cancelPendingUpdate(e)})},48692:function(e,t,n){n.d(t,{H:function(){return o}});var r=n(72987),a=n(23611),l=n(63111),i=n(15837),s=n(112);let u=(e,t,n,l,u)=>{var o,c,d,p,m,g;let x,f,S;let v=null!==(p=null!==(d=e.name)&&void 0!==d?d:null===(o=e.StripeProduct)||void 0===o?void 0:o.name)&&void 0!==p?p:a.Sz.STANDARD,E=null!==(g=null!==(m=t.name)&&void 0!==m?m:null===(c=t.StripeProduct)||void 0===c?void 0:c.name)&&void 0!==g?g:a.Sz.STANDARD;x=s.nr.indexOf(v)<s.nr.indexOf(E);let b=null;if(n)f=x?"Pending Downgrade":"Pending Upgrade",b=null,S=l;else{u?(f="Upgrade",x=!1,b=null):v===E&&e.billingInterval!==t.billingInterval?(f="Change Commitment",x=s.YR.indexOf(e.billingInterval)<s.YR.indexOf(t.billingInterval)):f=x?"Downgrade":"Upgrade";let n=new URLSearchParams;n.set(r.u.PRICE_ID,e.stripePriceId),n.set(r.u.SUBSCRIPTION_ACTION,x?i.N.DOWNGRADE:i.N.UPGRADE),b=null,S="".concat(l,"?").concat(n.toString())}return{label:f,isSubscribed:!1,to:S,eventId:b}},o=(e,t,n,r,i,s)=>{let o,c;let d=!!n,p=0===e.price,m=p?"Default":"Get Started";switch(e.billingInterval){case a.en.MONTHLY:o=l.i.MONTHLY_SUB,c={[a.Sz.FREE]:l.i.FREE_MONTHLY_SUB,[a.Sz.BASIC]:l.i.BASIC_MONTHLY_SUB,[a.Sz.STANDARD]:l.i.STANDARD_MONTHLY_SUB,[a.Sz.UNLIMITED]:l.i.UNLIMITED_MONTHLY_SUB,[a.Sz.PROFESSIONAL]:l.i.PROFESSIONAL_MONTHLY_SUB,[a.Sz.CUSTOM]:l.i.CUSTOM_MONTHLY_SUB,[a.Sz.PREMIUM]:l.i.PREMIUM_MONTHLY_SUB,[a.Sz.ENTERPRISE]:l.i.ENTERPRISE_MONTHLY_SUB};break;case a.en.QUARTERLY:o=l.i.QUARTERLY_SUB,c={[a.Sz.FREE]:l.i.FREE_QUARTERLY_SUB,[a.Sz.BASIC]:l.i.BASIC_QUARTERLY_SUB,[a.Sz.STANDARD]:l.i.STANDARD_QUARTERLY_SUB,[a.Sz.UNLIMITED]:l.i.UNLIMITED_QUARTERLY_SUB,[a.Sz.PROFESSIONAL]:l.i.PROFESSIONAL_QUARTERLY_SUB,[a.Sz.CUSTOM]:l.i.CUSTOM_QUARTERLY_SUB,[a.Sz.PREMIUM]:l.i.PREMIUM_QUARTERLY_SUB,[a.Sz.ENTERPRISE]:l.i.ENTERPRISE_QUARTERLY_SUB};break;case a.en.YEARLY:default:o=l.i.YEARLY_SUB,c={[a.Sz.FREE]:l.i.FREE_YEARLY_SUB,[a.Sz.BASIC]:l.i.BASIC_YEARLY_SUB,[a.Sz.STANDARD]:l.i.STANDARD_YEARLY_SUB,[a.Sz.UNLIMITED]:l.i.UNLIMITED_YEARLY_SUB,[a.Sz.PROFESSIONAL]:l.i.PROFESSIONAL_YEARLY_SUB,[a.Sz.CUSTOM]:l.i.CUSTOM_YEARLY_SUB,[a.Sz.PREMIUM]:l.i.PREMIUM_YEARLY_SUB,[a.Sz.ENTERPRISE]:l.i.ENTERPRISE_YEARLY_SUB}}let g=e.name?c[e.name]:null;return p?{label:"Default",isSubscribed:!1,to:t,eventId:null,campaignEventId:null}:d?e.id===n.id?{label:"Current Plan",isSubscribed:!0,to:t,eventId:null,campaignEventId:null}:s?{label:m,isSubscribed:!1,to:t,eventId:g,campaignEventId:o}:d?{...u(e,n,r,t,i),campaignEventId:o,eventId:g}:{label:m,isSubscribed:!1,to:t,eventId:g,campaignEventId:o}:{to:t,label:m,isSubscribed:!1,eventId:g,campaignEventId:o}}},45608:function(e,t,n){n.d(t,{i:function(){return r}});let r={IMAGINE:"Imagine",SHORTS:"Shorts",IDEATE:"Ideate",AVATARS:"Avatars"}},48443:function(e,t,n){n.d(t,{v:function(){return a}});var r=n(23611);let a={[r.Sz.FREE]:"Free",[r.Sz.BASIC]:"Basic",[r.Sz.STANDARD]:"Standard",[r.Sz.PROFESSIONAL]:"Professional",[r.Sz.PREMIUM]:"Premium",[r.Sz.UNLIMITED]:"Scale",[r.Sz.CUSTOM]:"Custom",[r.Sz.ENTERPRISE]:"Enterprise"}}}]);