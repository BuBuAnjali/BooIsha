"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4204],{98923:function(e,t,n){n.d(t,{e6:function(){return X},fC:function(){return U},bU:function(){return Y},fQ:function(){return q}});var i=n(7653);function r(e,[t,n]){return Math.min(n,Math.max(t,e))}function s(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),!1===n||!i.defaultPrevented)return t?.(i)}}function o(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let n=!1,i=e.map(e=>{let i=o(e,t);return n||"function"!=typeof i||(n=!0),i});if(n)return()=>{for(let t=0;t<i.length;t++){let n=i[t];"function"==typeof n?n():o(e[t],null)}}}}function a(...e){return i.useCallback(l(...e),e)}var u=n(27573);function h(e,t=[]){let n=[],r=()=>{let t=n.map(e=>i.createContext(e));return function(n){let r=n?.[e]||t;return i.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){let s=i.createContext(r),o=n.length;n=[...n,r];let l=t=>{let{scope:n,children:r,...l}=t,a=n?.[e]?.[o]||s,h=i.useMemo(()=>l,Object.values(l));return(0,u.jsx)(a.Provider,{value:h,children:r})};return l.displayName=t+"Provider",[l,function(n,l){let a=l?.[e]?.[o]||s,u=i.useContext(a);if(u)return u;if(void 0!==r)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:i})=>{let r=n(e)[`__scope${i}`];return{...t,...r}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}(r,...t)]}function d(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}var c=i.createContext(void 0),f=globalThis?.document?i.useLayoutEffect:()=>{};n(3458);var m=i.forwardRef((e,t)=>{let{children:n,...r}=e,s=i.Children.toArray(n),o=s.find(v);if(o){let e=o.props.children,n=s.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,u.jsx)(p,{...r,ref:t,children:i.isValidElement(e)?i.cloneElement(e,void 0,n):null})}return(0,u.jsx)(p,{...r,ref:t,children:n})});m.displayName="Slot";var p=i.forwardRef((e,t)=>{let{children:n,...r}=e;if(i.isValidElement(n)){let e,s;let o=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref,a=function(e,t){let n={...t};for(let i in t){let r=e[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...e)=>{s(...e),r(...e)}:r&&(n[i]=r):"style"===i?n[i]={...r,...s}:"className"===i&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==i.Fragment&&(a.ref=t?l(t,o):o),i.cloneElement(n,a)}return i.Children.count(n)>1?i.Children.only(null):null});p.displayName="SlotClone";var g=({children:e})=>(0,u.jsx)(u.Fragment,{children:e});function v(e){return i.isValidElement(e)&&e.type===g}var b=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=i.forwardRef((e,n)=>{let{asChild:i,...r}=e,s=i?m:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,u.jsx)(s,{...r,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),w=["PageUp","PageDown"],y=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],x={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},S="Slider",[M,E,C]=function(e){let t=e+"CollectionProvider",[n,r]=h(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=e=>{let{scope:t,children:n}=e,r=i.useRef(null),o=i.useRef(new Map).current;return(0,u.jsx)(s,{scope:t,itemMap:o,collectionRef:r,children:n})};l.displayName=t;let d=e+"CollectionSlot",c=i.forwardRef((e,t)=>{let{scope:n,children:i}=e,r=a(t,o(d,n).collectionRef);return(0,u.jsx)(m,{ref:r,children:i})});c.displayName=d;let f=e+"CollectionItemSlot",p="data-radix-collection-item",g=i.forwardRef((e,t)=>{let{scope:n,children:r,...s}=e,l=i.useRef(null),h=a(t,l),d=o(f,n);return i.useEffect(()=>(d.itemMap.set(l,{ref:l,...s}),()=>void d.itemMap.delete(l))),(0,u.jsx)(m,{[p]:"",ref:h,children:r})});return g.displayName=f,[{Provider:l,Slot:c,ItemSlot:g},function(t){let n=o(e+"CollectionConsumer",t);return i.useCallback(()=>{let e=n.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll("[".concat(p,"]")));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}(S),[R,O]=h(S,[C]),[z,I]=R(S),D=i.forwardRef((e,t)=>{let{name:n,min:o=0,max:l=100,step:a=1,orientation:h="horizontal",disabled:c=!1,minStepsBetweenThumbs:f=0,defaultValue:m=[o],value:p,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:b=!1,form:x,...S}=e,E=i.useRef(new Set),C=i.useRef(0),R="horizontal"===h?A:P,[O=[],I]=function({prop:e,defaultProp:t,onChange:n=()=>{}}){let[r,s]=function({defaultProp:e,onChange:t}){let n=i.useState(e),[r]=n,s=i.useRef(r),o=d(t);return i.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}({defaultProp:t,onChange:n}),o=void 0!==e,l=o?e:r,a=d(n);return[l,i.useCallback(t=>{if(o){let n="function"==typeof t?t(e):t;n!==e&&a(n)}else s(t)},[o,e,s,a])]}({prop:p,defaultProp:m,onChange:e=>{var t;null===(t=[...E.current][C.current])||void 0===t||t.focus(),g(e)}}),D=i.useRef(O);function T(e,t){let{commit:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{commit:!1},i=(String(a).split(".")[1]||"").length,s=r(function(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-o)/a)*a+o,i),[o,l]);I(function(){var e,i;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=[...e];return i[n]=t,i.sort((e,t)=>e-t)}(r,s,t);if(e=o,!(!((i=f*a)>0)||Math.min(...e.slice(0,-1).map((t,n)=>e[n+1]-t))>=i))return r;{C.current=o.indexOf(s);let e=String(o)!==String(r);return e&&n&&v(o),e?o:r}})}return(0,u.jsx)(z,{scope:e.__scopeSlider,name:n,disabled:c,min:o,max:l,valueIndexToChangeRef:C,thumbs:E.current,values:O,orientation:h,form:x,children:(0,u.jsx)(M.Provider,{scope:e.__scopeSlider,children:(0,u.jsx)(M.Slot,{scope:e.__scopeSlider,children:(0,u.jsx)(R,{"aria-disabled":c,"data-disabled":c?"":void 0,...S,ref:t,onPointerDown:s(S.onPointerDown,()=>{c||(D.current=O)}),min:o,max:l,inverted:b,onSlideStart:c?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let n=e.map(e=>Math.abs(e-t));return n.indexOf(Math.min(...n))}(O,e);T(e,t)},onSlideMove:c?void 0:function(e){T(e,C.current)},onSlideEnd:c?void 0:function(){let e=D.current[C.current];O[C.current]!==e&&v(O)},onHomeKeyDown:()=>!c&&T(o,0,{commit:!0}),onEndKeyDown:()=>!c&&T(l,O.length-1,{commit:!0}),onStepKeyDown:e=>{let{event:t,direction:n}=e;if(!c){let e=w.includes(t.key)||t.shiftKey&&y.includes(t.key),i=C.current;T(O[i]+a*(e?10:1)*n,i,{commit:!0})}}})})})})});D.displayName=S;var[T,j]=R(S,{startEdge:"left",endEdge:"right",size:"width",direction:1}),A=i.forwardRef((e,t)=>{let{min:n,max:r,dir:s,inverted:o,onSlideStart:l,onSlideMove:h,onSlideEnd:d,onStepKeyDown:f,...m}=e,[p,g]=i.useState(null),v=a(t,e=>g(e)),b=i.useRef(void 0),w=function(e){let t=i.useContext(c);return e||t||"ltr"}(s),y="ltr"===w,S=y&&!o||!y&&o;function M(e){let t=b.current||p.getBoundingClientRect(),i=H([0,t.width],S?[n,r]:[r,n]);return b.current=t,i(e-t.left)}return(0,u.jsx)(T,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:(0,u.jsx)(_,{dir:w,"data-orientation":"horizontal",...m,ref:v,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=M(e.clientX);null==l||l(t)},onSlideMove:e=>{let t=M(e.clientX);null==h||h(t)},onSlideEnd:()=>{b.current=void 0,null==d||d()},onStepKeyDown:e=>{let t=x[S?"from-left":"from-right"].includes(e.key);null==f||f({event:e,direction:t?-1:1})}})})}),P=i.forwardRef((e,t)=>{let{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:h,onStepKeyDown:d,...c}=e,f=i.useRef(null),m=a(t,f),p=i.useRef(void 0),g=!s;function v(e){let t=p.current||f.current.getBoundingClientRect(),i=H([0,t.height],g?[r,n]:[n,r]);return p.current=t,i(e-t.top)}return(0,u.jsx)(T,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:(0,u.jsx)(_,{"data-orientation":"vertical",...c,ref:m,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=v(e.clientY);null==o||o(t)},onSlideMove:e=>{let t=v(e.clientY);null==l||l(t)},onSlideEnd:()=>{p.current=void 0,null==h||h()},onStepKeyDown:e=>{let t=x[g?"from-bottom":"from-top"].includes(e.key);null==d||d({event:e,direction:t?-1:1})}})})}),_=i.forwardRef((e,t)=>{let{__scopeSlider:n,onSlideStart:i,onSlideMove:r,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:a,onStepKeyDown:h,...d}=e,c=I(S,n);return(0,u.jsx)(b.span,{...d,ref:t,onKeyDown:s(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(a(e),e.preventDefault()):w.concat(y).includes(e.key)&&(h(e),e.preventDefault())}),onPointerDown:s(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),c.thumbs.has(t)?t.focus():i(e)}),onPointerMove:s(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&r(e)}),onPointerUp:s(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),o(e))})})}),k="SliderTrack",N=i.forwardRef((e,t)=>{let{__scopeSlider:n,...i}=e,r=I(k,n);return(0,u.jsx)(b.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...i,ref:t})});N.displayName=k;var W="SliderRange",F=i.forwardRef((e,t)=>{let{__scopeSlider:n,...r}=e,s=I(W,n),o=j(W,n),l=a(t,i.useRef(null)),h=s.values.length,d=s.values.map(e=>V(e,s.min,s.max));return(0,u.jsx)(b.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[o.startEdge]:(h>1?Math.min(...d):0)+"%",[o.endEdge]:100-Math.max(...d)+"%"}})});F.displayName=W;var B="SliderThumb",L=i.forwardRef((e,t)=>{let n=E(e.__scopeSlider),[r,s]=i.useState(null),o=a(t,e=>s(e)),l=i.useMemo(()=>r?n().findIndex(e=>e.ref.current===r):-1,[n,r]);return(0,u.jsx)($,{...e,ref:o,index:l})}),$=i.forwardRef((e,t)=>{var n;let{__scopeSlider:r,index:o,name:l,...h}=e,d=I(B,r),c=j(B,r),[m,p]=i.useState(null),g=a(t,e=>p(e)),v=!m||d.form||!!m.closest("form"),w=function(e){let[t,n]=i.useState(void 0);return f(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let i,r;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,r=t.blockSize}else i=e.offsetWidth,r=e.offsetHeight;n({width:i,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(m),y=d.values[o],x=void 0===y?0:V(y,d.min,d.max),S=(n=d.values.length)>2?"Value ".concat(o+1," of ").concat(n):2===n?["Minimum","Maximum"][o]:void 0,E=null==w?void 0:w[c.size],C=E?function(e,t,n){let i=e/2,r=H([0,50],[0,i]);return(i-r(t)*n)*n}(E,x,c.direction):0;return i.useEffect(()=>{if(m)return d.thumbs.add(m),()=>{d.thumbs.delete(m)}},[m,d.thumbs]),(0,u.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:"calc(".concat(x,"% + ").concat(C,"px)")},children:[(0,u.jsx)(M.ItemSlot,{scope:e.__scopeSlider,children:(0,u.jsx)(b.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":d.min,"aria-valuenow":y,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...h,ref:g,style:void 0===y?{display:"none"}:e.style,onFocus:s(e.onFocus,()=>{d.valueIndexToChangeRef.current=o})})}),v&&(0,u.jsx)(K,{name:null!=l?l:d.name?d.name+(d.values.length>1?"[]":""):void 0,form:d.form,value:y},o)]})});L.displayName=B;var K=e=>{let{value:t,...n}=e,r=i.useRef(null),s=function(e){let t=i.useRef({value:e,previous:e});return i.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(t);return i.useEffect(()=>{let e=r.current,n=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(s!==t&&n){let i=new Event("input",{bubbles:!0});n.call(e,t),e.dispatchEvent(i)}},[s,t]),(0,u.jsx)("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function V(e,t,n){return r(100/(n-t)*(e-t),[0,100])}function H(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}var U=D,q=N,X=F,Y=L},31505:function(e,t,n){n.d(t,{MG:function(){return y}});var i=n(7653),r=n(3458);function s(e,t,n){let i,r=n.initialDeps??[];function s(){var s,o,l,a;let u,h;n.key&&(null==(s=n.debug)?void 0:s.call(n))&&(u=Date.now());let d=e();if(!(d.length!==r.length||d.some((e,t)=>r[t]!==e)))return i;if(r=d,n.key&&(null==(o=n.debug)?void 0:o.call(n))&&(h=Date.now()),i=t(...d),n.key&&(null==(l=n.debug)?void 0:l.call(n))){let e=Math.round((Date.now()-u)*100)/100,t=Math.round((Date.now()-h)*100)/100,i=t/16,r=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c⏱ ${r(t,5)} /${r(e,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*i,120))}deg 100% 31%);`,null==n?void 0:n.key)}return null==(a=null==n?void 0:n.onChange)||a.call(n,i),i}return s.updateDeps=e=>{r=e},s}function o(e,t){if(void 0!==e)return e;throw Error(`Unexpected undefined${t?`: ${t}`:""}`)}let l=(e,t)=>1>Math.abs(e-t),a=(e,t,n)=>{let i;return function(...r){e.clearTimeout(i),i=e.setTimeout(()=>t.apply(this,r),n)}},u=e=>e,h=e=>{let t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let e=t;e<=n;e++)i.push(e);return i},d=(e,t)=>{let n=e.scrollElement;if(!n)return;let i=e.targetWindow;if(!i)return;let r=e=>{let{width:n,height:i}=e;t({width:Math.round(n),height:Math.round(i)})};if(r(n.getBoundingClientRect()),!i.ResizeObserver)return()=>{};let s=new i.ResizeObserver(t=>{let i=()=>{let e=t[0];if(null==e?void 0:e.borderBoxSize){let t=e.borderBoxSize[0];if(t){r({width:t.inlineSize,height:t.blockSize});return}}r(n.getBoundingClientRect())};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},c={passive:!0},f="undefined"==typeof window||"onscrollend"in window,m=(e,t)=>{let n=e.scrollElement;if(!n)return;let i=e.targetWindow;if(!i)return;let r=0,s=e.options.useScrollendEvent&&f?()=>void 0:a(i,()=>{t(r,!1)},e.options.isScrollingResetDelay),o=i=>()=>{let{horizontal:o,isRtl:l}=e.options;r=o?n.scrollLeft*(l&&-1||1):n.scrollTop,s(),t(r,i)},l=o(!0),u=o(!1);u(),n.addEventListener("scroll",l,c);let h=e.options.useScrollendEvent&&f;return h&&n.addEventListener("scrollend",u,c),()=>{n.removeEventListener("scroll",l),h&&n.removeEventListener("scrollend",u)}},p=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){let e=t.borderBoxSize[0];if(e)return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},g=(e,{adjustments:t=0,behavior:n},i)=>{var r,s;null==(s=null==(r=i.scrollElement)?void 0:r.scrollTo)||s.call(r,{[i.options.horizontal?"left":"top"]:e+t,behavior:n})};class v{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null,t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{let t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,n])=>{void 0===n&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:u,rangeExtractor:h,onChange:()=>{},measureElement:p,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=s(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;let t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t){this.maybeNotify();return}this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{let n=new Map,i=new Map;for(let r=t-1;r>=0;r--){let t=e[r];if(n.has(t.lane))continue;let s=i.get(t.lane);if(null==s||t.end>s.end?i.set(t.lane,t):t.end<s.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=s(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,n,i,r)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:i,enabled:r}),{key:!1}),this.getMeasurements=s(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:n,getItemKey:i,enabled:r},s)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));let o=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];let l=this.measurementsCache.slice(0,o);for(let r=o;r<e;r++){let e=i(r),o=1===this.options.lanes?l[r-1]:this.getFurthestMeasurement(l,r),a=o?o.end+this.options.gap:t+n,u=s.get(e),h="number"==typeof u?u:this.options.estimateSize(r),d=a+h,c=o?o.lane:r%this.options.lanes;l[r]={index:r,start:a,size:h,end:d,key:e,lane:c}}return this.measurementsCache=l,l},{key:!1,debug:()=>this.options.debug}),this.calculateRange=s(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,n,i)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:n,lanes:i}){let r=e.length-1;if(e.length<=i)return{startIndex:0,endIndex:r};let s=b(0,r,t=>e[t].start,n),o=s;if(1===i)for(;o<r&&e[o].end<n+t;)o++;else if(i>1){let l=Array(i).fill(0);for(;o<r&&l.some(e=>e<n+t);){let t=e[o];l[t.lane]=t.end,o++}let a=Array(i).fill(n+t);for(;s>=0&&a.some(e=>e>=n);){let t=e[s];a[t.lane]=t.start,s--}s=Math.max(0,s-s%i),o=Math.min(r,o+(i-1-o%i))}return{startIndex:s,endIndex:o}}({measurements:e,outerSize:t,scrollOffset:n,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=s(()=>{let e=null,t=null,n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,n,i,r)=>null===i||null===r?[]:e({startIndex:i,endIndex:r,overscan:t,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{let t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{let n=this.indexFromElement(e),i=this.measurementsCache[n];if(!i)return;let r=i.key,s=this.elementsCache.get(r);s!==e&&(s&&this.observer.unobserve(s),this.observer.observe(e),this.elementsCache.set(r,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{let n=this.measurementsCache[e];if(!n)return;let i=t-(this.itemSizeCache.get(n.key)??n.size);0!==i&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,i,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))});return}this._measureElement(e,void 0)},this.getVirtualItems=s(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{let n=[];for(let i=0,r=e.length;i<r;i++){let r=t[e[i]];n.push(r)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{let t=this.getMeasurements();if(0!==t.length)return o(t[b(0,t.length-1,e=>o(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,n=0)=>{let i=this.getSize(),r=this.getScrollOffset();"auto"===t&&(t=e>=r+i?"end":"start"),"center"===t?e+=(n-i)/2:"end"===t&&(e-=i);let s=this.options.horizontal?"scrollWidth":"scrollHeight";return Math.max(Math.min((this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-i,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));let n=this.measurementsCache[e];if(!n)return;let i=this.getSize(),r=this.getScrollOffset();if("auto"===t){if(n.end>=r+i-this.options.scrollPaddingEnd)t="end";else{if(!(n.start<=r+this.options.scrollPaddingStart))return[r,t];t="start"}}let s="end"===t?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,t,n.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");let i=this.getOffsetForIndex(e,t);if(!i)return;let[r,s]=i;this._scrollToOffset(r,{adjustments:void 0,behavior:n}),"smooth"!==n&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){let[t]=o(this.getOffsetForIndex(e,s));l(t,this.getScrollOffset())||this.scrollToIndex(e,{align:s,behavior:n})}else this.scrollToIndex(e,{align:s,behavior:n})}))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;let t;let n=this.getMeasurements();if(0===n.length)t=this.options.paddingStart;else if(1===this.options.lanes)t=(null==(e=n[n.length-1])?void 0:e.end)??0;else{let e=Array(this.options.lanes).fill(null),i=n.length-1;for(;i>=0&&e.some(e=>null===e);){let t=n[i];null===e[t.lane]&&(e[t.lane]=t.end),i--}t=Math.max(...e.filter(e=>null!==e))}return Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}let b=(e,t,n,i)=>{for(;e<=t;){let r=(e+t)/2|0,s=n(r);if(s<i)e=r+1;else{if(!(s>i))return r;t=r-1}}return e>0?e-1:0},w="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function y(e){return function(e){let t=i.useReducer(()=>({}),{})[1],n={...e,onChange:(n,i)=>{var s;i?(0,r.flushSync)(t):t(),null==(s=e.onChange)||s.call(e,n,i)}},[s]=i.useState(()=>new v(n));return s.setOptions(n),w(()=>s._didMount(),[]),w(()=>s._willUpdate()),s}({observeElementRect:d,observeElementOffset:m,scrollToFn:g,...e})}}}]);