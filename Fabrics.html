<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BooIsha - Textiles & Fabrics</title>
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="fabrics.css" />
  </head>
  <body>
    <div class="menu-overlay" onclick="closeSideMenu()"></div>

    <!-- Side Menu -->
    <div class="side-menu">
      <div class="menu-header">
        <h2>Fabric Categories</h2>
        <button class="menu-close" onclick="closeSideMenu()">X</button>
      </div>
      <div class="menu-content">
        <!-- Silk Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Silk Fabrics</h3>
            <span class="category-arrow">▼</span>
          </div>
          <div class="fabric-list">
            <div class="fabric-item" onclick="filterByFabric('Mulberry Silk')">
              <span>Mulberry Silk</span>
              <span class="fabric-count">8</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Tussar Silk')">
              <span>Tussar Silk</span>
              <span class="fabric-count">6</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Chanderi Silk')">
              <span>Chanderi Silk</span>
              <span class="fabric-count">4</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Banarasi Silk')">
              <span>Banarasi Silk</span>
              <span class="fabric-count">5</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Kanjivaram Silk')"
            >
              <span>Kanjivaram Silk</span>
              <span class="fabric-count">3</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Mysore Silk')">
              <span>Mysore Silk</span>
              <span class="fabric-count">4</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Eri Silk')">
              <span>Eri Silk</span>
              <span class="fabric-count">2</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Muga Silk')">
              <span>Muga Silk</span>
              <span class="fabric-count">2</span>
            </div>
          </div>
        </div>

        <!-- Cotton Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Cotton Fabrics</h3>
            <span class="category-arrow">▼</span>
          </div>
          <div class="fabric-list">
            <div class="fabric-item" onclick="filterByFabric('Khadi Cotton')">
              <span>Khadi Cotton</span>
              <span class="fabric-count">12</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Organic Cotton')">
              <span>Organic Cotton</span>
              <span class="fabric-count">15</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Handloom Cotton')"
            >
              <span>Handloom Cotton</span>
              <span class="fabric-count">8</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cotton Canvas')">
              <span>Cotton Canvas</span>
              <span class="fabric-count">6</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cotton Voile')">
              <span>Cotton Voile</span>
              <span class="fabric-count">4</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cotton Lawn')">
              <span>Cotton Lawn</span>
              <span class="fabric-count">5</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cotton Poplin')">
              <span>Cotton Poplin</span>
              <span class="fabric-count">7</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cotton Twill')">
              <span>Cotton Twill</span>
              <span class="fabric-count">6</span>
            </div>
          </div>
        </div>

        <!-- Linen Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Linen & Natural Fibers</h3>
            <span class="category-arrow">▼</span>
          </div>
          <div class="fabric-list">
            <div class="fabric-item" onclick="filterByFabric('Pure Linen')">
              <span>Pure Linen</span>
              <span class="fabric-count">8</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Hemp Fabric')">
              <span>Hemp Fabric</span>
              <span class="fabric-count">5</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Jute Fabric')">
              <span>Jute Fabric</span>
              <span class="fabric-count">6</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Ramie Fabric')">
              <span>Ramie Fabric</span>
              <span class="fabric-count">3</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Bamboo Fabric')">
              <span>Bamboo Fabric</span>
              <span class="fabric-count">4</span>
            </div>
          </div>
        </div>

        <!-- Wool Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Wool Fabrics</h3>
            <span class="category-arrow">▼</span>
          </div>
          <div class="fabric-list">
            <div class="fabric-item" onclick="filterByFabric('Pashmina Wool')">
              <span>Pashmina Wool</span>
              <span class="fabric-count">4</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Merino Wool')">
              <span>Merino Wool</span>
              <span class="fabric-count">6</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cashmere')">
              <span>Cashmere</span>
              <span class="fabric-count">3</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Yak Wool')">
              <span>Yak Wool</span>
              <span class="fabric-count">2</span>
            </div>
          </div>
        </div>

        <!-- Blended Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Blended Fabrics</h3>
            <span class="category-arrow">▼</span>
          </div>
          <div class="fabric-list">
            <div
              class="fabric-item"
              onclick="filterByFabric('Cotton-Silk Blend')"
            >
              <span>Cotton-Silk Blend</span>
              <span class="fabric-count">10</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Cotton-Linen Blend')"
            >
              <span>Cotton-Linen Blend</span>
              <span class="fabric-count">8</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Modal Blend')">
              <span>Modal Blend</span>
              <span class="fabric-count">6</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Tencel Blend')">
              <span>Tencel Blend</span>
              <span class="fabric-count">5</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Bamboo Cotton')">
              <span>Bamboo Cotton</span>
              <span class="fabric-count">7</span>
            </div>
          </div>
        </div>

        <!-- Specialty Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Specialty & Traditional</h3>
            <span class="category-arrow">▼</span>
          </div>
          <div class="fabric-list">
            <div class="fabric-item" onclick="filterByFabric('Ikat Weave')">
              <span>Ikat Weave</span>
              <span class="fabric-count">6</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Block Print Cotton')"
            >
              <span>Block Print Cotton</span>
              <span class="fabric-count">12</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Kalamkari Fabric')"
            >
              <span>Kalamkari Fabric</span>
              <span class="fabric-count">4</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Bandhani Fabric')"
            >
              <span>Bandhani Fabric</span>
              <span class="fabric-count">5</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Ajrakh Print')">
              <span>Ajrakh Print</span>
              <span class="fabric-count">3</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Brocade')">
              <span>Brocade</span>
              <span class="fabric-count">8</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Velvet')">
              <span>Velvet</span>
              <span class="fabric-count">6</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Contact Bar -->
    <div class="contact-bar">
      <div class="contact-bar-content">
        <div class="contact-left">
          Contact us <a href="tel:0478257409">0478 257 409</a>
        </div>
        <div class="theme-toggle-container">
          <button class="arrow-toggle" onclick="toggleThemeMenu()">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </button>
          <div class="theme-menu" id="themeMenu">
            <button
              class="theme-btn"
              onclick="toggleTheme()"
              data-tooltip="Switch to Dark Mode"
            >
              <span class="theme-icon-light"></span>
              <span class="theme-icon-dark"></span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation -->
    <nav>
      <div class="nav-container">
        <div class="logo-container">
          <a
            href="index.html"
            style="
              display: flex;
              align-items: center;
              text-decoration: none;
              color: inherit;
            "
          >
            <img
              src="/Images/BooIshaLogo.png"
              alt="BooIsha Logo"
              style="
                width: 90px;
                height: 90px;
                object-fit: contain;
                padding-right: 10px;
              "
            />
            <div class="logo">BooIsha</div>
          </a>
        </div>
        <div class="breadcrumb">
          <a href="index.html"><span>Home / </span></a>
          <span>Textiles & Fabrics</span>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <div class="main-content">
      <section class="textiles-hero">
        <div class="textiles-hero-bg"></div>

        <div class="container">
          <div class="container hero-text-container">
            <h1>Premium Textiles & Fabrics</h1>
            <p>
              Exquisite silk, cotton, and artisanal weaves directly from finest
              mills
            </p>
          </div>
        </div>
      </section>

      <!-- Marquee Section -->
      <section class="marquee-section">
        <div class="marquee-content">
          <div class="marquee-item">
            <span class="marquee-icon">✨</span>
            <span>Exclusive 5% Discount on First Bulk Purchase Orders</span>
          </div>
          <div class="marquee-item">
            <span class="marquee-icon">📦</span>
            <span>Premium Quality Guaranteed on All Fabric Collections</span>
          </div>
          <div class="marquee-item">
            <span class="marquee-icon">🚚</span>
            <span>Direct Import from Finest Mills and Artisans</span>
          </div>
        </div>
      </section>

      <!-- Update your existing filter section to include sort options -->
      <section class="filter-section">
        <div class="container">
          <!-- Keep your existing menu toggle -->
          <div class="menu-toggle" onclick="toggleSideMenu()">
            <div class="hamburger">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>

          <!-- Search Row -->
          <div class="search-row">
            <div class="search-input-wrapper">
              <input
                type="text"
                id="fabric-search-input"
                placeholder="Search fabrics... (e.g., silk, cotton, organic, premium)"
                autocomplete="off"
              />
              <button class="search-button" onclick="performFabricSearch()">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                  />
                </svg>
              </button>
              <div id="search-suggestions"></div>
            </div>
          </div>

          <!-- Filter Row -->
          <div class="filter-bar">
            <div class="filter-bar-content">
              <div class="filter-group">
                <label>Category:</label>
                <select
                  class="filter-select"
                  onchange="filterProductsByCategory()"
                >
                  <option>All Categories</option>
                  <option>Silk</option>
                  <option>Cotton</option>
                  <option>Linen</option>
                  <option>Wool</option>
                  <option>Blended Fabrics</option>
                  <option>Specialty</option>
                  <option value="100% Silk">100% Silk</option>
                  <option value="100% Cotton">100% Cotton</option>
                  <option value="100% Linen">100% Linen</option>
                  <option value="Organic">Organic</option>
                  <option value="Handloom">Handloom</option>
                  <option value="Blend">Blended</option>
                </select>
              </div>

              <div class="filter-group">
                <label>Sort by:</label>
                <select
                  class="filter-select"
                  onchange="sortSearchResults(this.value)"
                >
                  <option value="relevance">Relevance</option>
                  <option value="name-asc">Name A-Z</option>
                  <option value="name-desc">Name Z-A</option>
                  <option value="newest">Newest First</option>
                  <option value="category">Category</option>
                </select>
              </div>

              <div class="filter-group">
                <button
                  class="clear-all-filters"
                  onclick="clearAllSearchFilters()"
                >
                  Clear All
                </button>
              </div>

              <!-- Single results count -->
              <div class="results-count">
                <span id="unified-results-display"
                  >Showing 12 of 192 products</span
                >
              </div>
            </div>
          </div>

          <!-- Active Filters Display -->
          <div id="active-search-filters"></div>
        </div>
      </section>
      <!-- Products Grid -->
      <section class="products-listing">
        <div class="container">
          <div class="products-grid"></div>
        </div>
      </section>

      <section class="combined-section">
        <div class="container">
          <div class="combined-content">
            <!-- CTA Content (Left Side) -->
            <div class="cta-content">
              <h2>Looking for Custom Fabric Solutions?</h2>
              <p>
                We specialize in sourcing specific fabrics for your business
                needs. Contact us for custom orders, bulk pricing, and exclusive
                designs.
              </p>
              <div class="cta-buttons">
                <a href="#enquiry-form" class="cta-btn primary">Send Enquiry</a>
                <a href="tel:0478257409" class="cta-btn secondary">Call Us</a>
              </div>
            </div>

            <!-- Footer Content (Right Side) -->
            <div class="footer-content">
              <div class="footer-logo">BooIsha</div>
              <p class="footer-text">
                Bridging India and Australia through authentic trade and
                commerce
              </p>
              <p class="footer-copyright">
                © 2024 BooIsha. All rights reserved. | ABN: 11 762 603 033
              </p>
            </div>
          </div>
        </div>
      </section>
    </div>
    <div class="chat-widget">
      <button class="chat-toggle" onclick="toggleChat()">
        <div class="chat-avatar">
          <img src="/Images/BooIshaLogo.png" alt="BooIsha Logo" />
        </div>
        <div class="chat-toggle-content">
          <div class="chat-toggle-title">BooIsha Assistant</div>
          <div class="chat-toggle-subtitle">
            Hi, I'm here to help if you have any questions.
          </div>
        </div>
        <div class="close-button" onclick="toggleChat(event)">×</div>
        <div class="notification-badge" id="notification-badge">1</div>
      </button>

      <div class="chat-window welcome-mode" id="chat-window">
        <!-- Welcome Screen - NAB Style -->
        <div class="welcome-screen">
          <div class="welcome-header">
            <h3>BooIsha Messaging</h3>
            <button class="welcome-close" onclick="toggleChat()">×</button>
          </div>

          <div class="welcome-content">
            <div class="welcome-illustration">
              <img src="/Images/BooIshaLogo.png" alt="BooIsha Assistant" />
            </div>

            <h2 class="welcome-title">Message us</h2>

            <ul class="welcome-features">
              <li>Expert textile and spice guidance</li>
              <li>Your messages are safe and secure</li>
              <li>Get instant quotes and bulk pricing</li>
              <li>Connect via WhatsApp for faster response</li>
            </ul>

            <button
              class="start-conversation-btn"
              onclick="startConversation()"
            >
              Start conversation
            </button>
          </div>
        </div>

        <!-- Chat Interface -->
        <div class="chat-interface">
          <div class="chat-header">
            <div>
              <h3>BooIsha Support</h3>
              <div class="chat-status">
                <div class="status-dot"></div>
                <span>Online - Chat or WhatsApp!</span>
              </div>
            </div>
            <div class="header-actions">
              <button
                class="whatsapp-btn"
                onclick="openWhatsApp()"
                title="Chat on WhatsApp"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.488"
                  />
                </svg>
              </button>
              <button class="chat-close" onclick="toggleChat()">×</button>
            </div>
          </div>

          <div class="chat-messages" id="chat-messages">
            <div class="message bot">
              <div class="message-content">
                Welcome to BooIsha! How can we help you with our premium
                textiles and spices today?
              </div>
            </div>
          </div>

          <div class="quick-actions">
            <div
              class="quick-action"
              onclick="sendQuickMessage('Product Inquiry')"
            >
              Product Inquiry
            </div>
            <div class="quick-action" onclick="sendQuickMessage('Bulk Orders')">
              Bulk Orders
            </div>
            <div class="quick-action" onclick="sendQuickMessage('Pricing')">
              Pricing
            </div>
            <div class="quick-action" onclick="openWhatsApp()">
              WhatsApp Chat
            </div>
          </div>

          <div class="chat-input-area">
            <div class="chat-input-container">
              <input
                type="text"
                class="chat-input"
                id="chat-input"
                placeholder="Type your message..."
                onkeypress="handleKeyPress(event)"
              />
              <button class="send-button" onclick="sendMessage()">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z" />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="index.js" defer></script>
    <script src="fabrics.js" defer></script>

    <!-- Add this script to enhance your existing fabrics.js functionality -->
    <script>
      // Integration functions to connect with existing code
      function updateExistingResultsCount(count) {
        // Update both old and new result counters
        const resultsCount = document.querySelector(".results-count strong");
        const searchCount = document.getElementById("search-count");

        if (resultsCount) resultsCount.textContent = count;
        if (searchCount) searchCount.textContent = count;
      }

      // Override the existing filterProductsByCategory to work with search
      function filterProductsByCategoryEnhanced(category = null) {
        const categorySelect = document.querySelector(".filter-select");
        const selectedCategory =
          category ||
          (categorySelect ? categorySelect.value : "All Categories");

        // Get current search results or all products
        let products =
          searchResults.length > 0 ? searchResults : fabricProducts;

        if (selectedCategory === "All Categories") {
          filteredProducts = [...products];
        } else {
          filteredProducts = products.filter((product) => {
            return (
              product.category === selectedCategory ||
              product.name
                .toLowerCase()
                .includes(selectedCategory.toLowerCase())
            );
          });
        }

        // Apply search filters
        applySearchFilters();

        // Update display
        currentPage = 1;
        renderCurrentPage();
        updateExistingResultsCount(filteredProducts.length);
        updatePagination(Math.ceil(filteredProducts.length / itemsPerPage));
        updatePaginationButtons();
      }

      // Quick search function for popular terms
      function quickSearch(term) {
        document.getElementById("fabric-search-input").value = term;
        performFabricSearch(term);
      }

      // Add popular searches based on your products
      function createPopularSearches() {
        const popularTerms = [
          "silk",
          "cotton",
          "organic",
          "premium",
          "handloom",
          "linen",
        ];
        return `
    <div class="search-analytics">
      <div style="font-weight: 500; margin-bottom: 8px;">Popular searches:</div>
      <div class="popular-searches">
        ${popularTerms
          .map(
            (term) => `
          <span class="popular-search-tag" onclick="quickSearch('${term}')">${term}</span>
        `
          )
          .join("")}
      </div>
    </div>
  `;
      }

      // Enhanced no results display
      function showNoResults(query) {
        const resultsGrid = document.querySelector(".products-grid");
        if (!resultsGrid) return;

        resultsGrid.innerHTML = `
    <div class="no-search-results" style="grid-column: 1 / -1;">
      <div class="no-results-icon">🔍</div>
      <div class="no-results-title">No fabrics found${
        query ? ` for "${query}"` : ""
      }</div>
      <div class="no-results-text">
        Try adjusting your search terms or browse our categories.<br>
        Our collection includes premium silk, organic cotton, natural linen, and specialty fabrics.
      </div>
      ${createPopularSearches()}
    </div>
  `;
      }

      // Override existing renderCurrentPage to handle search results
      const originalRenderCurrentPage = renderCurrentPage;
      renderCurrentPage = function () {
        const productsGrid = document.querySelector(".products-grid");
        if (!productsGrid) return;

        if (filteredProducts.length === 0) {
          const searchInput = document.getElementById("fabric-search-input");
          const query = searchInput ? searchInput.value : "";
          showNoResults(query);
          return;
        }

        // Call original function
        originalRenderCurrentPage();
      };

      // Initialize search integration
      document.addEventListener("DOMContentLoaded", function () {
        // Override the existing filter function
        window.filterProductsByCategory = filterProductsByCategoryEnhanced;

        // Add search input to existing navigation if it doesn't exist
        const existingNav = document.querySelector("nav");
        if (existingNav && !document.getElementById("fabric-search-input")) {
          // This is handled by the HTML section above
        }
      });
    </script>
  </body>
</html>
