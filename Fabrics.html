<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BooIsha - Premium Fabrics | Silk, Cotton, Linen Collection</title>
    <meta name="description" content="Shop BooIsha's premium luxury fabric collection - Australia's leading textile company. Premium silk, organic cotton, natural linen, wool, cashmere fabrics. Heritage craftsmanship, worldwide shipping. Top search ranking for luxury textiles Australia." />
    <meta name="keywords" content="BooIsha, premium fabrics Australia, luxury silk fabrics, organic cotton Australia, natural linen fabrics, wool fabrics, cashmere textiles, handloom fabrics, traditional textiles Australia, Banarasi silk, Kanjivaram silk, khadi cotton, heritage fabrics, luxury textiles Australia, premium textile company, fabric suppliers Australia, designer fabrics, high-end textiles, artisan fabrics Australia" />
    <meta name="author" content="BooIsha" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <link rel="canonical" href="https://booisha.com.au/Fabrics.html" />

    <!-- Open Graph Tags -->
    <meta property="og:title" content="Premium Fabrics Collection - Silk, Cotton, Linen | BooIsha" />
    <meta property="og:description" content="Discover BooIsha's premium fabric collection featuring luxury silk, organic cotton, natural linen, wool, and specialty fabrics. Direct from finest mills with authentic heritage craftsmanship." />
    <meta property="og:image" content="https://booisha.com.au/Images/BooIshaLogo.png" />
    <meta property="og:url" content="https://booisha.com.au/Fabrics.html" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="BooIsha" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Premium Fabrics Collection - Silk, Cotton, Linen | BooIsha" />
    <meta name="twitter:description" content="Discover BooIsha's premium fabric collection featuring luxury silk, organic cotton, natural linen, wool, and specialty fabrics." />
    <meta name="twitter:image" content="https://booisha.com.au/Images/BooIshaLogo.png" />
    <meta name="twitter:site" content="@BooIsha" />

    <!-- Additional SEO Meta Tags -->
    <meta name="geo.region" content="AU" />
    <meta name="geo.placename" content="Australia" />
    <meta name="language" content="English" />
    <meta name="distribution" content="global" />
    <meta name="rating" content="general" />
    <meta name="revisit-after" content="3 days" />

    <!-- Favicon and Icons -->
    <link rel="icon" href="/Images/BooIshaLogo.png" type="image/png" />
    <link rel="apple-touch-icon" href="/Images/BooIshaLogo.png" />

    <!-- Performance and SEO -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="dns-prefetch" href="//wa.me" />
    <link rel="dns-prefetch" href="//ipapi.co" />
    <link rel="dns-prefetch" href="//api.country.is" />
    <link rel="preload" href="/Images/BooIshaLogo.png" as="image" type="image/png" />
    <link rel="preload" href="index.css" as="style" />
    <link rel="preload" href="fabrics.css" as="style" />
    <link rel="prefetch" href="/index.html" />
    <link rel="prefetch" href="/Lace.html" />

    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="fabrics.css" />

    <!-- Structured Data - JSON-LD -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "BooIsha",
      "url": "https://booisha.com",
      "logo": "https://booisha.com/Images/BooIshaLogo.png",
      "description": "Premium fabric supplier specializing in luxury silk, organic cotton, natural linen, and heritage textiles",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "AU"
      },
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+61478257409",
        "contactType": "customer service",
        "availableLanguage": "English"
      },
      "sameAs": [
        "https://wa.me/61478257409"
      ]
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Premium Fabrics Collection",
      "description": "Discover BooIsha's premium fabric collection featuring luxury silk, organic cotton, natural linen, wool, and specialty fabrics",
      "url": "https://booisha.com/Fabrics.html",
      "mainEntity": {
        "@type": "ItemList",
        "name": "Fabric Collections",
        "numberOfItems": 7,
        "itemListElement": [
          {
            "@type": "Product",
            "name": "Premium Silk Collection",
            "description": "Luxurious silk varieties from heritage weaves to contemporary finishes",
            "category": "Textiles",
            "brand": {
              "@type": "Brand",
              "name": "BooIsha"
            },
            "offers": {
              "@type": "AggregateOffer",
              "priceCurrency": "AUD",
              "availability": "https://schema.org/InStock"
            }
          },
          {
            "@type": "Product",
            "name": "Organic Cotton Range",
            "description": "Sustainable and ethically sourced cotton fabrics in premium weights",
            "category": "Textiles",
            "brand": {
              "@type": "Brand",
              "name": "BooIsha"
            },
            "offers": {
              "@type": "AggregateOffer",
              "priceCurrency": "AUD",
              "availability": "https://schema.org/InStock"
            }
          },
          {
            "@type": "Product",
            "name": "Natural Linen & Fibers",
            "description": "Pure linen and natural fiber blends for refined applications",
            "category": "Textiles",
            "brand": {
              "@type": "Brand",
              "name": "BooIsha"
            },
            "offers": {
              "@type": "AggregateOffer",
              "priceCurrency": "AUD",
              "availability": "https://schema.org/InStock"
            }
          },
          {
            "@type": "Product",
            "name": "Luxury Wool Collection",
            "description": "Premium wool varieties including merino and specialty wool fibers",
            "category": "Textiles",
            "brand": {
              "@type": "Brand",
              "name": "BooIsha"
            },
            "offers": {
              "@type": "AggregateOffer",
              "priceCurrency": "AUD",
              "availability": "https://schema.org/InStock"
            }
          },
          {
            "@type": "Product",
            "name": "Premium Cashmere Collection",
            "description": "Exquisite cashmere fabrics for the most luxurious applications",
            "category": "Textiles",
            "brand": {
              "@type": "Brand",
              "name": "BooIsha"
            },
            "offers": {
              "@type": "AggregateOffer",
              "priceCurrency": "AUD",
              "availability": "https://schema.org/InStock"
            }
          },
          {
            "@type": "Product",
            "name": "Designer Blends",
            "description": "Innovative fabric combinations offering unique properties and aesthetics",
            "category": "Textiles",
            "brand": {
              "@type": "Brand",
              "name": "BooIsha"
            },
            "offers": {
              "@type": "AggregateOffer",
              "priceCurrency": "AUD",
              "availability": "https://schema.org/InStock"
            }
          },
          {
            "@type": "Product",
            "name": "Heritage & Traditional",
            "description": "Time-honored weaves and traditional techniques from master artisans",
            "category": "Textiles",
            "brand": {
              "@type": "Brand",
              "name": "BooIsha"
            },
            "offers": {
              "@type": "AggregateOffer",
              "priceCurrency": "AUD",
              "availability": "https://schema.org/InStock"
            }
          }
        ]
      },
      "breadcrumb": {
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://booisha.com"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Fabrics",
            "item": "https://booisha.com/Fabrics.html"
          }
        ]
      }
    }
    </script>
  </head>
  <body>
    <div class="menu-overlay" onclick="closeSideMenu()"></div>

    <!-- Side Menu -->
    <div class="side-menu">
      <div class="menu-header">
        <h2>Fabric Categories</h2>
        <button class="menu-close" onclick="closeSideMenu()">X</button>
      </div>
      <div class="menu-content">
        <!-- Category Filter at top of side menu -->
        <div class="side-menu-filter">
          <label for="side-category-filter">Filter Categories:</label>
          <select
            id="side-category-filter"
            class="side-filter-select"
            onchange="filterSideMenuByCategory()"
          >
            <option value="">All Categories</option>
            <option value="Silk">Silk Fabrics</option>
            <option value="Cotton">Cotton Fabrics</option>
            <option value="Linen">Linen & Natural Fibers</option>
            <option value="Wool">Wool Fabrics</option>
            <option value="Cashmere">Cashmere Fabrics</option>
            <option value="Blended">Blended Fabrics</option>
            <option value="Specialty">Specialty & Traditional</option>
          </select>
        </div>
        <!-- Silk Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Silk Fabrics</h3>
            <span class="category-arrow">‚ñº</span>
          </div>
          <div class="fabric-list">
            <div class="fabric-item" onclick="filterByFabric('Mulberry Silk')">
              <span>Mulberry Silk</span>
              <span class="fabric-count">8</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Tussar Silk')">
              <span>Tussar Silk</span>
              <span class="fabric-count">6</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Chanderi Silk')">
              <span>Chanderi Silk</span>
              <span class="fabric-count">4</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Banarasi Silk')">
              <span>Banarasi Silk</span>
              <span class="fabric-count">5</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Kanjivaram Silk')"
            >
              <span>Kanjivaram Silk</span>
              <span class="fabric-count">3</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Mysore Silk')">
              <span>Mysore Silk</span>
              <span class="fabric-count">4</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Eri Silk')">
              <span>Eri Silk</span>
              <span class="fabric-count">2</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Muga Silk')">
              <span>Muga Silk</span>
              <span class="fabric-count">2</span>
            </div>
          </div>
        </div>

        <!-- Cotton Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Cotton Fabrics</h3>
            <span class="category-arrow">‚ñº</span>
          </div>
          <div class="fabric-list">
            <div class="fabric-item" onclick="filterByFabric('Khadi Cotton')">
              <span>Khadi Cotton</span>
              <span class="fabric-count">12</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Organic Cotton')">
              <span>Organic Cotton</span>
              <span class="fabric-count">15</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Handloom Cotton')"
            >
              <span>Handloom Cotton</span>
              <span class="fabric-count">8</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cotton Canvas')">
              <span>Cotton Canvas</span>
              <span class="fabric-count">6</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cotton Voile')">
              <span>Cotton Voile</span>
              <span class="fabric-count">4</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cotton Lawn')">
              <span>Cotton Lawn</span>
              <span class="fabric-count">5</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cotton Poplin')">
              <span>Cotton Poplin</span>
              <span class="fabric-count">7</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cotton Twill')">
              <span>Cotton Twill</span>
              <span class="fabric-count">6</span>
            </div>
          </div>
        </div>

        <!-- Linen Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Linen & Natural Fibers</h3>
            <span class="category-arrow">‚ñº</span>
          </div>
          <div class="fabric-list">
            <div class="fabric-item" onclick="filterByFabric('Pure Linen')">
              <span>Pure Linen</span>
              <span class="fabric-count">8</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Hemp Fabric')">
              <span>Hemp Fabric</span>
              <span class="fabric-count">5</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Jute Fabric')">
              <span>Jute Fabric</span>
              <span class="fabric-count">6</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Ramie Fabric')">
              <span>Ramie Fabric</span>
              <span class="fabric-count">3</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Bamboo Fabric')">
              <span>Bamboo Fabric</span>
              <span class="fabric-count">4</span>
            </div>
          </div>
        </div>

        <!-- Wool Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Wool Fabrics</h3>
            <span class="category-arrow">‚ñº</span>
          </div>
          <div class="fabric-list">
            <div class="fabric-item" onclick="filterByFabric('Pashmina Wool')">
              <span>Pashmina Wool</span>
              <span class="fabric-count">4</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Merino Wool')">
              <span>Merino Wool</span>
              <span class="fabric-count">6</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Cashmere')">
              <span>Cashmere</span>
              <span class="fabric-count">3</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Yak Wool')">
              <span>Yak Wool</span>
              <span class="fabric-count">2</span>
            </div>
          </div>
        </div>

        <!-- Blended Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Blended Fabrics</h3>
            <span class="category-arrow">‚ñº</span>
          </div>
          <div class="fabric-list">
            <div
              class="fabric-item"
              onclick="filterByFabric('Cotton-Silk Blend')"
            >
              <span>Cotton-Silk Blend</span>
              <span class="fabric-count">10</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Cotton-Linen Blend')"
            >
              <span>Cotton-Linen Blend</span>
              <span class="fabric-count">8</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Modal Blend')">
              <span>Modal Blend</span>
              <span class="fabric-count">6</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Tencel Blend')">
              <span>Tencel Blend</span>
              <span class="fabric-count">5</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Bamboo Cotton')">
              <span>Bamboo Cotton</span>
              <span class="fabric-count">7</span>
            </div>
          </div>
        </div>

        <!-- Specialty Fabrics -->
        <div class="fabric-category">
          <div class="category-header" onclick="toggleCategory(this)">
            <h3>Specialty & Traditional</h3>
            <span class="category-arrow">‚ñº</span>
          </div>
          <div class="fabric-list">
            <div class="fabric-item" onclick="filterByFabric('Ikat Weave')">
              <span>Ikat Weave</span>
              <span class="fabric-count">6</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Block Print Cotton')"
            >
              <span>Block Print Cotton</span>
              <span class="fabric-count">12</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Kalamkari Fabric')"
            >
              <span>Kalamkari Fabric</span>
              <span class="fabric-count">4</span>
            </div>
            <div
              class="fabric-item"
              onclick="filterByFabric('Bandhani Fabric')"
            >
              <span>Bandhani Fabric</span>
              <span class="fabric-count">5</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Ajrakh Print')">
              <span>Ajrakh Print</span>
              <span class="fabric-count">3</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Brocade')">
              <span>Brocade</span>
              <span class="fabric-count">8</span>
            </div>
            <div class="fabric-item" onclick="filterByFabric('Velvet')">
              <span>Velvet</span>
              <span class="fabric-count">6</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Contact Bar -->
    <div class="contact-bar">
      <div class="contact-bar-content">
        <div class="theme-toggle-container">
          <button
            class="arrow-toggle"
            onclick="toggleThemeMenu()"
            data-tooltip="Select Theme"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </button>
          <div class="theme-menu" id="themeMenu">
            <button
              class="theme-btn"
              onclick="toggleTheme()"
              data-tooltip="Switch to Dark Mode"
            >
              <span class="theme-icon-light"></span>
              <span class="theme-icon-dark"></span>
            </button>
          </div>
        </div>
        <div class="contact-right">
          <a href="javascript:void(0)" onclick="openContactPanel()"
            >Get in Touch</a
          >
        </div>
      </div>
    </div>

    <!-- Navigation -->
    <nav>
      <div class="nav-container">
        <div class="logo-container">
          <a href="index.html" class="logo-link">
            <img
              src="/Images/BooIshaLogo.png"
              alt="BooIsha - Premium Fabrics and Textiles Company Logo"
              class="logo-img"
            />
            <div class="logo">BooIsha</div>
          </a>
        </div>
        <div class="breadcrumb">
          <a href="index.html"><span>Home / </span></a>
          <span>Fabrics</span>
        </div>
      </div>
    </nav>

    <!-- Header blur is handled by translucent sticky header; no extra strip needed -->

    <!-- Hero Section -->
    <div class="main-content">
      <section class="textiles-hero">
        <div class="textiles-hero-bg"></div>

        <div class="container">
          <div class="container hero-text-container">
            <h1>Premium Fabrics</h1>
            <p>
              Exquisite silk, cotton, and artisanal weaves directly from finest
              mills
            </p>
          </div>
        </div>
      </section>

      <!-- Marquee Section -->
      <section class="marquee-section">
        <div class="marquee-content">
          <div class="marquee-item">
            <span class="marquee-icon">‚ú®</span>
            <span>Exclusive 5% Discount on First Bulk Purchase Orders</span>
          </div>
          <div class="marquee-item">
            <span class="marquee-icon">üì¶</span>
            <span>Premium Quality Guaranteed on All Fabric Collections</span>
          </div>
          <div class="marquee-item">
            <span class="marquee-icon">üöö</span>
            <span>Direct Import from Finest Mills and Artisans</span>
          </div>
        </div>
      </section>

      <!-- Update your existing filter section to include sort options -->
      <section class="filter-section">
        <div class="container">
          <!-- Search Row -->
          <div class="search-row">
            <div
              class="menu-toggle desktop-menu-toggle"
              onclick="toggleSideMenu()"
            >
              <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>
            <div class="search-input-wrapper">
              <input
                type="text"
                id="fabric-search-input"
                placeholder="Search fabrics... (e.g., silk, cotton, organic, premium)"
                autocomplete="off"
                onkeypress="if(event.key==='Enter') handleSearch()"
              />
              <button class="search-button" onclick="handleSearch()">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="white"
                  stroke-width="2"
                >
                  <circle cx="11" cy="11" r="8" />
                  <path d="m21 21-4.35-4.35" />
                </svg>
              </button>
              <div id="search-suggestions"></div>
            </div>
            <button
              class="search-reset-external"
              onclick="resetSearch()"
              title="Reset search"
            >
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" />
                <path d="M21 3v5h-5" />
                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" />
                <path d="M3 21v-5h5" />
              </svg>
            </button>
          </div>

          <!-- Bottom Search Row (visible on small screens) -->
          <div class="bottom-search-row">
            <div class="menu-toggle" onclick="toggleSideMenu()">
              <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>
            <div class="bottom-search-wrapper">
              <input
                type="text"
                class="bottom-search-input"
                id="bottom-search-input"
                placeholder="Search fabrics..."
                autocomplete="off"
                onkeypress="if(event.key==='Enter') handleBottomSearch()"
              />
              <button
                class="bottom-search-button"
                onclick="handleBottomSearch()"
              >
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <circle cx="11" cy="11" r="8" />
                  <path d="m21 21-4.35-4.35" />
                </svg>
              </button>
            </div>
            <button
              class="bottom-search-reset-external"
              onclick="resetSearch()"
              title="Reset search"
            >
              <svg
                width="14"
                height="14"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" />
                <path d="M21 3v5h-5" />
                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" />
                <path d="M3 21v-5h5" />
              </svg>
            </button>
          </div>

          <!-- Filter Row -->
          <div class="filter-bar">
            <div class="filter-bar-content">
              <select
                id="fabric-category-filter"
                class="filter-select search-filter-select"
                onchange="handleCategoryFilter()"
              >
                <option>All Categories</option>
                <option>Silk</option>
                <option>Cotton</option>
                <option>Linen</option>
                <option>Wool</option>
                <option>Cashmere</option>
                <option>Blended Fabrics</option>
                <option>Specialty</option>
                <option value="100% Silk">100% Silk</option>
                <option value="100% Cotton">100% Cotton</option>
                <option value="100% Linen">100% Linen</option>
                <option value="Organic">Organic</option>
                <option value="Handloom">Handloom</option>
                <option value="Blend">Blended</option>
              </select>

              <select
                class="filter-select search-filter-select"
                onchange="sortSearchResults(this.value)"
              >
                <option value="relevance">Relevance</option>
                <option value="name-asc">Name A-Z</option>
                <option value="name-desc">Name Z-A</option>
                <option value="newest">Newest First</option>
                <option value="category">Category</option>
              </select>

              <button
                class="clear-all-filters"
                onclick="clearAllSearchFilters()"
              >
                Clear All
              </button>
            </div>
          </div>

          <!-- Active Filters Display -->
          <div id="active-search-filters"></div>
        </div>
      </section>

      <!-- Fabric Categories Toggle -->
      <section class="fabric-view-toggle">
        <div class="container">
          <div class="view-toggle-buttons">
            <button
              class="toggle-btn active"
              id="categoryViewBtn"
              onclick="switchToCategories()"
            >
              Category View
            </button>
            <button
              class="toggle-btn"
              id="allFabricsBtn"
              onclick="switchToAllFabrics()"
            >
              All Fabrics
            </button>
            <!-- Results count moved here -->
            <div class="results-count">
              <span id="unified-results-display"
                >Showing 12 of 192 products</span
              >
            </div>
          </div>
        </div>
      </section>

      <!-- Fabric Categories Grid -->
      <section class="fabric-categories-section" id="categoriesView">
        <div class="container">
          <div class="section-header">
            <h2>Our Premium Fabric Collections</h2>
            <p>
              Discover our curated selection of luxury fabrics, each collection
              representing the finest quality and craftsmanship from renowned
              mills worldwide.
            </p>
          </div>

          <div class="fabric-categories-grid">
            <!-- Premium Silk Collection -->
            <div
              class="fabric-category-card"
              onclick="openFabricCategory('silk')"
            >
              <div class="category-image">
                <div class="category-overlay">
                  <h3>Premium Silk Collection</h3>
                  <p>
                    Luxurious silk varieties from heritage weaves to
                    contemporary finishes
                  </p>
                  <div class="fabric-count">34 Fabrics</div>
                  <button class="explore-btn">Explore Collection ‚Üí</button>
                </div>
              </div>
            </div>

            <!-- Organic Cotton Range -->
            <div
              class="fabric-category-card"
              onclick="openFabricCategory('cotton')"
            >
              <div class="category-image cotton-bg">
                <div class="category-overlay">
                  <h3>Organic Cotton Range</h3>
                  <p>
                    Sustainable and ethically sourced cotton fabrics in premium
                    weights
                  </p>
                  <div class="fabric-count">63 Fabrics</div>
                  <button class="explore-btn">Explore Collection ‚Üí</button>
                </div>
              </div>
            </div>

            <!-- Natural Linen & Fibers -->
            <div
              class="fabric-category-card"
              onclick="openFabricCategory('linen')"
            >
              <div class="category-image linen-bg">
                <div class="category-overlay">
                  <h3>Natural Linen & Fibers</h3>
                  <p>
                    Pure linen and natural fiber blends for refined applications
                  </p>
                  <div class="fabric-count">26 Fabrics</div>
                  <button class="explore-btn">Explore Collection ‚Üí</button>
                </div>
              </div>
            </div>

            <!-- Luxury Wool -->
            <div
              class="fabric-category-card"
              onclick="openFabricCategory('wool')"
            >
              <div class="category-image wool-bg">
                <div class="category-overlay">
                  <h3>Luxury Wool Collection</h3>
                  <p>
                    Premium wool varieties including merino and specialty wool
                    fibers
                  </p>
                  <div class="fabric-count">8 Fabrics</div>
                  <button class="explore-btn">Explore Collection ‚Üí</button>
                </div>
              </div>
            </div>

            <!-- Premium Cashmere -->
            <div
              class="fabric-category-card"
              onclick="openFabricCategory('cashmere')"
            >
              <div class="category-image cashmere-bg">
                <div class="category-overlay">
                  <h3>Premium Cashmere Collection</h3>
                  <p>
                    Exquisite cashmere fabrics for the most luxurious
                    applications
                  </p>
                  <div class="fabric-count">7 Fabrics</div>
                  <button class="explore-btn">Explore Collection ‚Üí</button>
                </div>
              </div>
            </div>

            <!-- Designer Blends -->
            <div
              class="fabric-category-card"
              onclick="openFabricCategory('blends')"
            >
              <div class="category-image blend-bg">
                <div class="category-overlay">
                  <h3>Designer Blends</h3>
                  <p>
                    Innovative fabric combinations offering unique properties
                    and aesthetics
                  </p>
                  <div class="fabric-count">36 Fabrics</div>
                  <button class="explore-btn">Explore Collection ‚Üí</button>
                </div>
              </div>
            </div>

            <!-- Heritage & Traditional -->
            <div
              class="fabric-category-card"
              onclick="openFabricCategory('heritage')"
            >
              <div class="category-image heritage-bg">
                <div class="category-overlay">
                  <h3>Heritage & Traditional</h3>
                  <p>
                    Time-honored weaves and traditional techniques from master
                    artisans
                  </p>
                  <div class="fabric-count">48 Fabrics</div>
                  <button class="explore-btn">Explore Collection ‚Üí</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Products Grid -->
      <section
        class="products-listing"
        id="allFabricsView"
        style="display: none"
      >
        <div class="container">
          <div class="products-grid"></div>
        </div>
      </section>

      <section class="combined-section">
        <div class="container">
          <div class="combined-content">
            <!-- CTA Content (Left Side) -->
            <div class="cta-content">
              <h2>Looking for Custom Fabric Solutions?</h2>
              <p>
                We specialize in sourcing specific fabrics for your business
                needs. Contact us for custom orders, bulk pricing, and exclusive
                designs.
              </p>
              <div class="cta-buttons">
                <a href="#enquiry-form" class="cta-btn primary">Send Enquiry</a>
                <a href="tel:0478257409" class="cta-btn secondary">Call Us</a>
              </div>
            </div>

            <!-- Footer Content (Right Side) -->
            <div class="footer-content">
              <div class="footer-logo">BooIsha</div>
              <p class="footer-text">
                Bridging India and Australia through authentic trade and
                commerce
              </p>
              <p class="footer-copyright">
                ¬© 2024 BooIsha. All rights reserved. | ABN: 11 762 603 033
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Category Modal -->
      <div class="fabric-category-modal" id="fabricCategoryModal">
        <div class="modal-overlay" onclick="closeFabricCategory()"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="modalCategoryTitle">Premium Silk Collection</h2>
            <button class="modal-close" onclick="closeFabricCategory()">
              √ó
            </button>
          </div>

          <div class="modal-body">
            <div class="category-description">
              <p id="modalCategoryDescription">
                Discover our exquisite selection of premium silk fabrics...
              </p>
            </div>

            <div class="modal-search-bar">
              <input
                type="text"
                id="modalSearchInput"
                placeholder="Search within this collection..."
              />
              <button class="modal-search-btn">üîç</button>
            </div>

            <div class="modal-filters">
              <select id="modalSortFilter">
                <option value="name">Sort by Name</option>
                <option value="newest">Newest First</option>
                <option value="price">Price</option>
              </select>
            </div>

            <div class="modal-products-grid" id="modalProductsGrid">
              <!-- Dynamic products will be loaded here -->
            </div>

            <div class="modal-pagination">
              <button class="modal-prev-btn" onclick="modalPrevPage()">
                ‚Üê Previous
              </button>
              <span class="modal-page-info">Page 1 of 3</span>
              <button class="modal-next-btn" onclick="modalNextPage()">
                Next ‚Üí
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Fabric Enquiry Form Modal -->
      <div class="fabric-enquiry-modal" id="fabricEnquiryModal">
        <div class="modal-overlay" onclick="closeFabricEnquiry()"></div>
        <div class="enquiry-modal-content">
          <div class="enquiry-modal-header">
            <h2>Fabric Enquiry</h2>
            <button class="modal-close" onclick="closeFabricEnquiry()">
              √ó
            </button>
          </div>

          <div class="enquiry-modal-body">
            <div class="fabric-enquiry-info">
              <p>
                You're enquiring about:
                <strong id="enquiryFabricName">Mulberry Silk</strong>
              </p>
              <p>
                Our team will provide you with detailed information including
                specifications, availability, and pricing.
              </p>
            </div>

            <form id="fabricEnquiryForm" class="elegant-form">
              <div class="form-group">
                <label for="enquiry-name">Full Name</label>
                <input type="text" id="enquiry-name" name="name" required />
              </div>

              <div class="form-group">
                <label for="enquiry-email">Email Address</label>
                <input type="email" id="enquiry-email" name="email" required />
              </div>

              <div class="form-group">
                <label for="enquiry-phone">Phone Number</label>
                <input
                  type="tel"
                  id="enquiry-phone"
                  name="phone"
                  placeholder="+61 1234567890"
                />
              </div>

              <div class="form-group">
                <label for="enquiry-company">Company/Business (Optional)</label>
                <input
                  type="text"
                  id="enquiry-company"
                  name="company"
                  placeholder="Your business name"
                />
              </div>

              <div class="form-group">
                <label for="enquiry-quantity">Estimated Quantity</label>
                <select id="enquiry-quantity" name="quantity">
                  <option value="">Select quantity range</option>
                  <option value="1-10">1-10 yards</option>
                  <option value="10-50">10-50 yards</option>
                  <option value="50-100">50-100 yards</option>
                  <option value="100+">100+ yards</option>
                  <option value="bulk">Bulk order (500+ yards)</option>
                </select>
              </div>

              <div class="form-group">
                <label for="enquiry-message">Your Message</label>
                <textarea
                  id="enquiry-message"
                  name="message"
                  rows="4"
                  placeholder="Please describe your requirements, project details, or any specific questions..."
                  required
                ></textarea>
              </div>

              <div class="form-actions">
                <button
                  type="button"
                  class="form-cancel-btn"
                  onclick="closeFabricEnquiry()"
                >
                  Cancel
                </button>
                <button type="submit" class="form-submit-btn">
                  Send Enquiry
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="chat-widget">
      <button class="chat-toggle" onclick="toggleChat()">
        <div class="chat-avatar">
          <img src="/Images/chatIcon.png" alt="BooIsha Chat" />
        </div>
        <div class="chat-toggle-content">
          <div class="chat-toggle-title">BooIsha Assistant</div>
          <div class="chat-toggle-subtitle">
            Hi, I'm here to help if you have any questions.
          </div>
        </div>
        <div class="close-button" onclick="toggleChat(event)">√ó</div>
        <div class="notification-badge" id="notification-badge">1</div>
      </button>

      <div class="chat-window welcome-mode" id="chat-window">
        <!-- Welcome Screen - NAB Style -->
        <div class="welcome-screen">
          <div class="welcome-header">
            <!-- Navigation buttons for small screens -->
            <div class="chat-nav-buttons">
              <button
                class="nav-back-btn"
                onclick="toggleChat()"
                title="Back to previous page"
              >
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="m15 18-6-6 6-6" />
                </svg>
              </button>
              <button
                class="nav-home-btn"
                onclick="window.location.href='index.html'"
                title="Go to home page"
              >
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                  <polyline points="9,22 9,12 15,12 15,22" />
                </svg>
              </button>
            </div>
            <h3>BooIsha Messaging</h3>
            <button class="welcome-close" onclick="toggleChat()">√ó</button>
          </div>

          <div class="welcome-content">
            <div class="welcome-illustration">
              <img src="/Images/chatIcon.png" alt="BooIsha Assistant" />
            </div>

            <h2 class="welcome-title">Message us</h2>

            <ul class="welcome-features">
              <li>Expert textile and spice guidance</li>
              <li>Your messages are safe and secure</li>
              <li>Get instant quotes and bulk pricing</li>
              <li>Connect via WhatsApp for faster response</li>
            </ul>

            <button
              class="start-conversation-btn"
              onclick="startConversation()"
            >
              Start conversation
            </button>
          </div>
        </div>

        <!-- Chat Interface -->
        <div class="chat-interface">
          <div class="chat-header">
            <!-- Navigation buttons for small screens -->
            <div class="chat-nav-buttons">
              <button
                class="nav-back-btn"
                onclick="toggleChat()"
                title="Back to previous page"
              >
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="m15 18-6-6 6-6" />
                </svg>
              </button>
              <button
                class="nav-home-btn"
                onclick="window.location.href='index.html'"
                title="Go to home page"
              >
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                  <polyline points="9,22 9,12 15,12 15,22" />
                </svg>
              </button>
            </div>
            <div>
              <h3>BooIsha Support</h3>
              <div class="chat-status">
                <div class="status-dot"></div>
                <span>Online - Chat or WhatsApp!</span>
              </div>
            </div>
            <div class="header-actions">
              <button
                class="whatsapp-btn"
                onclick="openWhatsApp()"
                title="Chat on WhatsApp"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.488"
                  />
                </svg>
              </button>
              <button class="chat-close" onclick="toggleChat()">√ó</button>
            </div>
          </div>

          <div class="chat-messages" id="chat-messages">
            <div class="message bot">
              <div class="message-content">
                Welcome to BooIsha! How can we help you with our premium
                textiles and spices today?
              </div>
            </div>
          </div>

          <div class="quick-actions">
            <div
              class="quick-action"
              onclick="sendQuickMessage('Product Inquiry')"
            >
              Product Inquiry
            </div>
            <div class="quick-action" onclick="sendQuickMessage('Bulk Orders')">
              Bulk Orders
            </div>
            <div class="quick-action" onclick="sendQuickMessage('Pricing')">
              Pricing
            </div>
            <div class="quick-action" onclick="openWhatsApp()">
              WhatsApp Chat
            </div>
          </div>

          <div class="chat-input-area">
            <div class="chat-input-container">
              <input
                type="text"
                class="chat-input"
                id="chat-input"
                placeholder="Type your message..."
                onkeypress="handleKeyPress(event)"
              />
              <button class="send-button" onclick="sendMessage()">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z" />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="index.js" defer></script>
    <script src="fabrics.js" defer></script>

    <!-- Add this script to enhance your existing fabrics.js functionality -->
    <script>
      // Integration functions to connect with existing code
      function updateExistingResultsCount(count) {
        // Update both old and new result counters
        const resultsCount = document.querySelector(".results-count strong");
        const searchCount = document.getElementById("search-count");

        if (resultsCount) resultsCount.textContent = count;
        if (searchCount) searchCount.textContent = count;
      }

      // Quick search function for popular terms
      function quickSearch(term) {
        document.getElementById("fabric-search-input").value = term;
        performFabricSearch(term);
      }

      // Add popular searches based on your products
      function createPopularSearches() {
        const popularTerms = [
          "silk",
          "cotton",
          "organic",
          "premium",
          "handloom",
          "linen",
        ];
        return `
    <div class="search-analytics">
      <div style="font-weight: 500; margin-bottom: 8px;">Popular searches:</div>
      <div class="popular-searches">
        ${popularTerms
          .map(
            (term) => `
          <span class="popular-search-tag" onclick="quickSearch('${term}')">${term}</span>
        `
          )
          .join("")}
      </div>
    </div>
  `;
      }

      // Enhanced no results display
      function showNoResults(query) {
        const resultsGrid = document.querySelector(".products-grid");
        if (!resultsGrid) return;

        resultsGrid.innerHTML = `
    <div class="no-search-results" style="grid-column: 1 / -1;">
      <div class="no-results-icon">üîç</div>
      <div class="no-results-title">No fabrics found${
        query ? ` for "${query}"` : ""
      }</div>
      <div class="no-results-text">
        Try adjusting your search terms or browse our categories.<br>
        Our collection includes premium silk, organic cotton, natural linen, and specialty fabrics.
      </div>
      ${createPopularSearches()}
    </div>
  `;
      }

      // Side menu category filtering function
      function filterSideMenuByCategory() {
        const filterSelect = document.getElementById("side-category-filter");
        const selectedCategory = filterSelect.value;
        const allCategories = document.querySelectorAll(".fabric-category");

        // Filter side menu categories
        allCategories.forEach((category) => {
          const categoryHeader = category.querySelector(".category-header h3");
          const categoryName = categoryHeader.textContent;

          if (!selectedCategory || categoryName.includes(selectedCategory)) {
            category.style.display = "block";
          } else {
            category.style.display = "none";
          }
        });

        // Also sync with main filter if category is selected
        if (selectedCategory) {
          const mainFilterSelect = document.querySelector(".filter-select");
          if (mainFilterSelect) {
            // Map side menu values to main filter values
            const categoryMapping = {
              Silk: "Silk",
              Cotton: "Cotton",
              Linen: "Linen",
              Wool: "Wool",
              Blended: "Blended Fabrics",
              Specialty: "Specialty",
            };

            mainFilterSelect.value =
              categoryMapping[selectedCategory] || selectedCategory;
            // Trigger the main filter function
            if (typeof filterProductsByCategory === "function") {
              filterProductsByCategory();
            }
          }
        }
      }

      // Universal search and filter handlers
      function handleSearch() {
        const categoriesView = document.getElementById("categoriesView");
        const allFabricsView = document.getElementById("allFabricsView");

        if (categoriesView.style.display !== "none") {
          // In category view - search category tiles
          searchCategoryTiles();
        } else if (allFabricsView.style.display !== "none") {
          // In all fabrics view - use original search
          if (typeof performFabricSearch === "function") {
            performFabricSearch();
          }
        }
      }

      function handleCategoryFilter() {
        const categoriesView = document.getElementById("categoriesView");
        const allFabricsView = document.getElementById("allFabricsView");

        if (categoriesView.style.display !== "none") {
          // In category view - filter category tiles
          filterCategoryTiles();
        } else if (allFabricsView.style.display !== "none") {
          // In all fabrics view - use original filter
          if (typeof filterProductsByCategory === "function") {
            filterProductsByCategory();
          }
        }
      }

      // Category tiles search and filter functions
      function searchCategoryTiles(query = "") {
        const searchInput = document.getElementById("fabric-search-input");
        const searchQuery = query || searchInput.value.toLowerCase().trim();
        const categoryCards = document.querySelectorAll(
          ".fabric-category-card"
        );
        let visibleCount = 0;
        const totalCount = categoryCards.length;

        categoryCards.forEach((card) => {
          const title = card.querySelector("h3").textContent.toLowerCase();
          const description = card.querySelector("p").textContent.toLowerCase();

          if (
            !searchQuery ||
            title.includes(searchQuery) ||
            description.includes(searchQuery)
          ) {
            card.style.display = "block";
            visibleCount++;
          } else {
            card.style.display = "none";
          }
        });

        // Update the results count
        const resultsDisplay = document.getElementById(
          "unified-results-display"
        );
        if (resultsDisplay) {
          resultsDisplay.textContent = `Showing ${visibleCount} of ${totalCount} fabric categories`;
        }
      }

      function filterCategoryTiles() {
        // Only run if we're in category view
        const categoriesView = document.getElementById("categoriesView");
        if (!categoriesView || categoriesView.style.display === "none") {
          return;
        }

        const filterSelect = document.querySelector(".filter-select");
        if (!filterSelect) return;

        const selectedCategory = filterSelect.value;
        const categoryCards = document.querySelectorAll(
          ".fabric-category-card"
        );
        let visibleCount = 0;
        const totalCount = categoryCards.length;

        // Simplified category mapping based on actual titles
        const categoryMap = {
          Silk: ["silk"],
          "100% Silk": ["silk"],
          Cotton: ["cotton"],
          "100% Cotton": ["cotton"],
          Linen: ["linen", "fiber"],
          "100% Linen": ["linen", "fiber"],
          Wool: ["wool"],
          Cashmere: ["cashmere"],
          "Blended Fabrics": ["blend", "designer"],
          Blend: ["blend", "designer"],
          Specialty: ["heritage", "traditional"],
          Organic: ["organic"],
          Handloom: ["heritage", "traditional"],
        };

        categoryCards.forEach((card) => {
          const h3Element = card.querySelector("h3");
          if (!h3Element) return;

          const title = h3Element.textContent.toLowerCase();
          let shouldShow = false;

          if (
            selectedCategory === "All Categories" ||
            selectedCategory === ""
          ) {
            shouldShow = true;
          } else {
            const keywords = categoryMap[selectedCategory] || [
              selectedCategory.toLowerCase(),
            ];
            shouldShow = keywords.some((keyword) => title.includes(keyword));
          }

          if (shouldShow) {
            card.style.display = "block";
            visibleCount++;
          } else {
            card.style.display = "none";
          }
        });

        // Update the results count only for category view
        const resultsDisplay = document.getElementById(
          "unified-results-display"
        );
        if (resultsDisplay) {
          resultsDisplay.textContent = `Showing ${visibleCount} of ${totalCount} fabric categories`;
        }
      }

      // View Switching Functions
      function switchToCategories() {
        document.getElementById("categoriesView").style.display = "block";
        document.getElementById("allFabricsView").style.display = "none";

        document.getElementById("categoryViewBtn").classList.add("active");
        document.getElementById("allFabricsBtn").classList.remove("active");

        // Remove pagination - categories don't need pagination
        const existingPagination = document.querySelector(".pagination");
        if (existingPagination) {
          existingPagination.remove();
        }

        // Update count display for category view
        const categoryCards = document.querySelectorAll(
          ".fabric-category-card"
        );
        const resultsDisplay = document.getElementById(
          "unified-results-display"
        );
        if (resultsDisplay && categoryCards.length > 0) {
          resultsDisplay.textContent = `Showing ${categoryCards.length} of ${categoryCards.length} fabric categories`;
        }
      }

      function switchToAllFabrics() {
        document.getElementById("categoriesView").style.display = "none";
        document.getElementById("allFabricsView").style.display = "block";

        document.getElementById("categoryViewBtn").classList.remove("active");
        document.getElementById("allFabricsBtn").classList.add("active");

        // Load the fabric products when switching to all fabrics view
        if (typeof renderCurrentPage === "function") {
          renderCurrentPage();
        }
      }

      // Clear All Filters Function
      function clearAllSearchFilters() {
        console.log("Clear All button clicked - starting reset");

        // 1. FORCE clear search input
        const searchInput = document.getElementById("fabric-search-input");
        console.log("Search input found:", searchInput);
        if (searchInput) {
          searchInput.value = "";
          searchInput.innerHTML = "";
          console.log("Search input cleared, value now:", searchInput.value);
        }

        // 2. FORCE reset all dropdowns
        const allSelects = document.querySelectorAll("select");
        console.log("Found selects:", allSelects.length);
        allSelects.forEach((select, index) => {
          console.log(`Resetting select ${index}:`, select.className);
          select.selectedIndex = 0;
          select.value = select.options[0] ? select.options[0].value : "";
        });

        // 3. Show all category tiles
        const categoryCards = document.querySelectorAll(
          ".fabric-category-card"
        );
        console.log("Found category cards:", categoryCards.length);
        categoryCards.forEach((card) => {
          card.style.display = "block";
        });

        // 4. Show all fabric products (call external function)
        console.log("Calling external functions...");
        if (typeof window.activeSearchFilters !== "undefined") {
          window.activeSearchFilters = {};
          console.log("Reset activeSearchFilters");
        }

        // Call ALL possible external reset functions
        try {
          if (typeof window.clearAllSearchFilters === "function") {
            window.clearAllSearchFilters();
            console.log("Called window.clearAllSearchFilters");
          }
        } catch (e) {
          console.log("Error calling external clearAllSearchFilters:", e);
        }

        try {
          if (typeof window.renderCurrentPage === "function") {
            window.renderCurrentPage();
            console.log("Called renderCurrentPage");
          }
        } catch (e) {
          console.log("Error calling renderCurrentPage:", e);
        }

        // 5. Force update results display
        const resultsDisplay = document.getElementById(
          "unified-results-display"
        );
        console.log("Results display found:", resultsDisplay);
        if (resultsDisplay) {
          const categoriesView = document.getElementById("categoriesView");
          if (categoriesView && categoriesView.style.display !== "none") {
            // Category view
            resultsDisplay.textContent = `Showing ${categoryCards.length} of ${categoryCards.length} fabric categories`;
            console.log("Updated category view count");
          } else {
            // Fabric view - force reset to all products
            resultsDisplay.textContent = "Showing 12 of 192 products";
            console.log("Updated fabric view count");
          }
        }

        console.log("Clear All function completed");
      }

      // Load category folders from JSON manifest
      async function loadCategoryFolders() {
        try {
          const res = await fetch(
            "/Images/fabricCategoryTile/category-images.json"
          );
          if (!res.ok) throw new Error("Cannot fetch category-images.json");
          const data = await res.json();
          return data.categoryFolders || {};
        } catch (err) {
          console.error("Error loading category images manifest:", err);
          return {};
        }
      }

      // Apply background images to category tiles from matching folders
      async function applyCategoryBackgrounds() {
        const categoryFolders = await loadCategoryFolders();
        const categoryCards = document.querySelectorAll(
          ".fabric-category-card"
        );

        categoryCards.forEach((card) => {
          const h3Element = card.querySelector("h3");
          if (!h3Element) return;

          const categoryTitle = h3Element.textContent.toLowerCase();

          // Extract key words from title for matching
          const keywords = [];
          if (categoryTitle.includes("silk")) keywords.push("silk");
          if (categoryTitle.includes("cotton")) keywords.push("cotton");
          if (
            categoryTitle.includes("linen") ||
            categoryTitle.includes("fiber")
          )
            keywords.push("linen");
          if (categoryTitle.includes("wool")) keywords.push("wool");
          if (categoryTitle.includes("cashmere")) keywords.push("cashmere");
          if (
            categoryTitle.includes("blend") ||
            categoryTitle.includes("designer")
          )
            keywords.push("blend", "blends");
          if (
            categoryTitle.includes("heritage") ||
            categoryTitle.includes("traditional")
          )
            keywords.push("heritage", "traditional");
          if (categoryTitle.includes("jean") || categoryTitle.includes("denim"))
            keywords.push("jean", "denim");

          // Find matching folder based on keywords
          let matchingFolder = null;
          let matchingImage = null;

          for (const [folderName, images] of Object.entries(categoryFolders)) {
            const folderNameLower = folderName.toLowerCase();

            // Check if any keyword matches the folder name
            const folderMatches = keywords.some(
              (keyword) =>
                folderNameLower.includes(keyword) ||
                keyword.includes(folderNameLower)
            );

            if (folderMatches && images.length > 0) {
              matchingFolder = folderName;
              // Pick the first image from the matching folder
              matchingImage = `/Images/fabricCategoryTile/${folderName}/${images[0]}`;
              break;
            }
          }

          // Apply background image if found
          if (matchingImage) {
            const categoryImage = card.querySelector(".category-image");
            if (categoryImage) {
              categoryImage.style.backgroundImage = `url('${matchingImage}')`;
              categoryImage.style.backgroundSize = "cover";
              categoryImage.style.backgroundPosition = "center";
              categoryImage.style.backgroundRepeat = "no-repeat";
              console.log(
                `Applied image ${matchingImage} to category: ${categoryTitle}`
              );
            }
          } else {
            console.log(
              `No matching folder found for category: ${categoryTitle}`,
              "Available folders:",
              Object.keys(categoryFolders)
            );
          }
        });
      }

      // Function to handle URL parameters and apply filters
      function handleUrlParameters() {
        console.log("üöÄ handleUrlParameters function called!");
        const urlParams = new URLSearchParams(window.location.search);
        const searchQuery = urlParams.get("search");
        const categoryFilter = urlParams.get("category");

        console.log(
          "üîç URL Parameters - Search:",
          searchQuery,
          "Category:",
          categoryFilter
        );

        // If there's a search query, apply it to the search input
        if (searchQuery) {
          const searchInput = document.getElementById("fabric-search-input");
          if (searchInput) {
            searchInput.value = searchQuery;
            console.log("‚úÖ Applied search query:", searchQuery);
          }
        }

        // If there's a category filter, apply it
        if (categoryFilter) {
          console.log("‚úÖ Applying category filter:", categoryFilter);

          // Map URL category to dropdown value
          const categoryMapping = {
            linen: "Linen",
            lace: "Lace",
            silk: "Silk",
            cotton: "Cotton",
          };

          const dropdownValue = categoryMapping[categoryFilter];
          if (dropdownValue) {
            // Set the category dropdown
            const categoryDropdown = document.getElementById(
              "fabric-category-filter"
            );
            if (categoryDropdown) {
              categoryDropdown.value = dropdownValue;
              console.log("‚úÖ Set category dropdown to:", dropdownValue);

              // Force the filter to apply with longer delay to override other initializations
              setTimeout(() => {
                if (typeof window.filterProductsByCategory === "function") {
                  window.filterProductsByCategory(dropdownValue);
                }
              }, 1000);
            }

            // If category is selected, switch to All Fabrics view to show filtered results
            switchToAllFabrics();
          }
        }

        // Apply the filters
        if (searchQuery || categoryFilter) {
          // Switch to All Fabrics view first for search results
          switchToAllFabrics();

          // Give a short delay to ensure everything is loaded
          setTimeout(() => {
            console.log("üîç Triggering search with parameters");

            // Always use handleSearch for search queries from index page
            if (typeof handleSearch === "function") {
              handleSearch();
            }
          }, 500);
        } else {
          // No URL parameters - ensure we show category view by default
          console.log(
            "üè† No URL parameters - showing category view by default"
          );
          switchToCategories();
        }
      }

      // Function to handle category card clicks
      function openFabricCategory(category) {
        // Switch to All Fabrics view
        switchToAllFabrics();

        // Map category to dropdown value
        const categoryMapping = {
          silk: "Silk",
          cotton: "Cotton",
          linen: "Linen",
          wool: "Wool",
          cashmere: "Cashmere",
          blends: "Blended Fabrics",
          heritage: "Specialty",
        };

        const dropdownValue = categoryMapping[category];
        if (
          dropdownValue &&
          typeof window.filterProductsByCategory === "function"
        ) {
          // Set dropdown and filter
          const categoryDropdown = document.getElementById(
            "fabric-category-filter"
          );
          if (categoryDropdown) {
            categoryDropdown.value = dropdownValue;
          }

          // Apply filter
          setTimeout(() => {
            window.filterProductsByCategory(dropdownValue);
          }, 100);
        }
      }

      // Wait for all scripts to load before initializing
      window.addEventListener("load", function () {
        console.log("üí° Page load event triggered");
        // Initialize the view - start with categories view
        switchToCategories();
        // Apply category background images
        applyCategoryBackgrounds();
        // Handle URL parameters from index page search
        console.log("üí° About to call handleUrlParameters...");
        handleUrlParameters();
      });
    </script>
  </body>
</html>
